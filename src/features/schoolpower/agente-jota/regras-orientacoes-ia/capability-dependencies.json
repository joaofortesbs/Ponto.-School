{
  "version": "1.1.0",
  "description": "Grafo de dependências entre capabilities do Agente Jota - Versão Simplificada",
  
  "capability_dependencies": {
    "pesquisar_atividades_disponiveis": {
      "id": "cap_pesq_ativ",
      "category": "PESQUISAR",
      "depends_on": [],
      "required_before": ["decidir_atividades_criar"],
      "outputs": ["lista_atividades", "count_atividades"],
      "priority": "critical",
      "failure_handling": "abort_flow",
      "estimated_duration_ms": 2000
    },
    
    "pesquisar_atividades_conta": {
      "id": "cap_pesq_conta",
      "category": "PESQUISAR",
      "depends_on": [],
      "required_before": ["decidir_atividades_criar"],
      "outputs": ["atividades_professor", "historico_uso"],
      "priority": "medium",
      "failure_handling": "continue_without",
      "estimated_duration_ms": 2000
    },
    
    "analisar_contexto_usuario": {
      "id": "cap_analisar_ctx",
      "category": "ANALISAR",
      "depends_on": [],
      "required_before": ["decidir_atividades_criar", "criar_atividade"],
      "required_data": ["user_id"],
      "outputs": ["contexto_completo", "turmas", "disciplinas"],
      "priority": "critical",
      "failure_handling": "abort_flow",
      "estimated_duration_ms": 1000
    },
    
    "decidir_atividades_criar": {
      "id": "cap_decidir",
      "category": "DECIDIR",
      "depends_on": ["pesquisar_atividades_disponiveis", "analisar_contexto_usuario"],
      "required_before": ["criar_atividade"],
      "required_inputs": ["lista_atividades"],
      "optional_inputs": ["historico_uso"],
      "outputs": ["atividades_escolhidas", "justificativa", "quantidade"],
      "priority": "critical",
      "failure_handling": "use_defaults",
      "estimated_duration_ms": 3000
    },
    
    "criar_atividade": {
      "id": "cap_criar_ativ",
      "category": "CRIAR",
      "depends_on": ["decidir_atividades_criar"],
      "required_inputs": ["atividades_escolhidas"],
      "outputs": ["atividades_criadas", "ids_atividades"],
      "priority": "critical",
      "failure_handling": "retry_with_adjustments",
      "max_retries": 3,
      "estimated_duration_ms": 5000
    },
    
    "gerar_relatorio_personalizado": {
      "id": "cap_gerar_relat",
      "category": "ANALISAR",
      "depends_on": ["analisar_contexto_usuario"],
      "outputs": ["relatorio", "insights"],
      "priority": "medium",
      "failure_handling": "generate_basic",
      "estimated_duration_ms": 4000
    }
  },

  "category_order": {
    "description": "Ordem preferencial de execução por categoria",
    "order": ["PESQUISAR", "ANALISAR", "DECIDIR", "CRIAR"],
    "rationale": "Sempre coletar dados antes de analisar, analisar antes de decidir, decidir antes de criar"
  }
}
