AutomaÃ§Ã£o da ConstruÃ§Ã£o de Atividades no School Power (Agente Interno de AÃ§Ã£o)

VocÃª Ã© responsÃ¡vel por implementar uma automaÃ§Ã£o interna dentro da plataforma School Power, sem alterar nenhuma parte visual ou estrutural da interface atual.

ğŸ¯ OBJETIVO
Criar um agente automÃ¡tico interno que acione o botÃ£o â€œConstruir Atividadeâ€ assim que todos os campos da atividade forem preenchidos automaticamente pela IA (dentro do modal â€œEditar Materiaisâ€).

Esse botÃ£o jÃ¡ existe e funciona corretamente quando clicado manualmente, portanto, sua funÃ§Ã£o Ã© apenas automatizar essa aÃ§Ã£o, sem modificar a interface.

ğŸ§  REGRAS DE LÃ“GICA
O sistema jÃ¡ possui uma interface que exibe:

Modal â€œEditar Materiaisâ€ com os campos preenchÃ­veis

BotÃ£o â€œConstruir Atividadeâ€ funcional

SeÃ§Ã£o de mini-cards (cards de atividades dentro do plano de aÃ§Ã£o)

BotÃ£o â€œEditarâ€ jÃ¡ funcional e deve continuar funcionando

Sua tarefa:

âœ… Criar um â€œAgente Interno de ExecuÃ§Ã£oâ€ invisÃ­vel ao usuÃ¡rio, que funcione assim:

Detectar automaticamente quando TODOS os campos obrigatÃ³rios do modal â€œEditar Materiaisâ€ estiverem preenchidos (inclusive os personalizados conforme o tipo da atividade).

ApÃ³s a verificaÃ§Ã£o, acionar automaticamente a funÃ§Ã£o interna associada ao botÃ£o â€œConstruir Atividadeâ€, simulando exatamente o clique do usuÃ¡rio.

Fechar o modal normalmente (caso jÃ¡ seja parte do fluxo interno da funÃ§Ã£o atual).

Garantir que a atividade gerada apareÃ§a corretamente na mini-interface de prÃ©-visualizaÃ§Ã£o (dentro da aba Plano de AÃ§Ã£o).

ğŸ›  IMPLEMENTAÃ‡ÃƒO SUGERIDA (comportamento esperado)
Componente: EditMaterialModal.tsx (ou similar)
ts
Copiar
Editar
useEffect(() => {
  const todosCamposPreenchidos = verificarCamposPreenchidos(materialData);
  if (todosCamposPreenchidos) {
    const delay = setTimeout(() => {
      construirAtividade(materialData); // mesma funÃ§Ã£o acionada pelo botÃ£o "Construir Atividade"
    }, 300); // pequena pausa para garantir sincronizaÃ§Ã£o

    return () => clearTimeout(delay);
  }
}, [materialData]); // sempre que os dados forem atualizados
ğŸ” Essa automaÃ§Ã£o interna sÃ³ deve ocorrer quando a origem do preenchimento for a IA.
VocÃª pode controlar isso com um campo auxiliar como:

ts
Copiar
Editar
const preenchidoPorIA = materialData.preenchidoAutomaticamente === true;
E condicionar o efeito:

ts
Copiar
Editar
if (todosCamposPreenchidos && preenchidoPorIA) {
  construirAtividade(materialData);
}
ğŸ§· GARANTIAS DE FUNCIONAMENTO
O botÃ£o â€œConstruir Atividadeâ€ continua visÃ­vel, mas serÃ¡ acionado automaticamente pela lÃ³gica interna.

O modal de ediÃ§Ã£o serÃ¡ fechado automaticamente apÃ³s a construÃ§Ã£o (se jÃ¡ estiver implementado).

O botÃ£o â€œEditarâ€ nos mini-cards continuarÃ¡ funcionando e carregarÃ¡ os campos normalmente para ediÃ§Ã£o manual.

Nenhum componente visual serÃ¡ alterado.

Nenhum fluxo do usuÃ¡rio serÃ¡ quebrado.

O comportamento automÃ¡tico sÃ³ acontecerÃ¡ quando a atividade for gerada automaticamente pela IA.

âœ… STATUS DE CONCLUSÃƒO
A funcionalidade estarÃ¡ concluÃ­da quando:

A IA gerar as atividades

Os campos forem preenchidos automaticamente

O botÃ£o â€œConstruir Atividadeâ€ for acionado automaticamente

A atividade aparecer jÃ¡ gerada na prÃ©-visualizaÃ§Ã£o

O botÃ£o â€œEditarâ€ do mini-card carregar o modal corretamente

