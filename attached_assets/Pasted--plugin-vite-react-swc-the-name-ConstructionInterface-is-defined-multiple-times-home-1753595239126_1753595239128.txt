[plugin:vite:react-swc] Ã— the name `ConstructionInterface` is defined multiple times
      â•­â”€[/home/runner/workspace/src/features/schoolpower/construction/CardDeConstrucao.tsx:46:1]
   46 â”‚ import { TrilhasDebugPanel } from "../components/TrilhasDebugPanel";
   47 â”‚ import { TrilhasBadge } from "../components/TrilhasBadge";
   48 â”‚ import schoolPowerActivitiesData from '../data/schoolPowerActivities.json';
   49 â”‚ import { ConstructionInterface } from './index';
      Â·          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      Â·                    â•°â”€â”€ previous definition of `ConstructionInterface` here
   50 â”‚ import atividadesTrilhas from '../data/atividadesTrilhas.json';
   51 â”‚ 
   52 â”‚ // Convert to proper format with name field
   53 â”‚ const schoolPowerActivities = schoolPowerActivitiesData.map(activity => ({
   54 â”‚   ...activity,
   55 â”‚   name: activity.name || activity.title || activity.description
   56 â”‚ }));
   57 â”‚ 
   58 â”‚ export interface ContextualizationData {
   59 â”‚   materias: string;
   60 â”‚   publicoAlvo: string;
   61 â”‚   restricoes: string;
   62 â”‚   datasImportantes?: string;
   63 â”‚   observacoes?: string;
   64 â”‚ }
   65 â”‚ 
   66 â”‚ export interface ActionPlanItem {
   67 â”‚   id: string;
   68 â”‚   title: string;
   69 â”‚   description: string;
   70 â”‚   duration: string;
   71 â”‚   difficulty: string;
   72 â”‚   category: string;
   73 â”‚   type: string;
   74 â”‚   isManual?: boolean;
   75 â”‚   approved?: boolean;
   76 â”‚ }
   77 â”‚ 
   78 â”‚ interface CardDeConstrucaoProps {
   79 â”‚   step: 'contextualization' | 'actionPlan' | 'generating' | 'generatingActivities' | 'construction' | 'activities';
   80 â”‚   contextualizationData?: ContextualizationData | null;
   81 â”‚   actionPlan?: ActionPlanItem[] | null;
   82 â”‚   onSubmitContextualization: (data: ContextualizationData) => void;
   83 â”‚   onApproveActionPlan: (approvedItems: ActionPlanItem[]) => void;
   84 â”‚   onResetFlow: () => void;
   85 â”‚   isLoading?: boolean;
   86 â”‚ }
   87 â”‚ 
   88 â”‚ export function CardDeConstrucao({ 
   89 â”‚   step, 
   90 â”‚   contextualizationData, 
   91 â”‚   actionPlan, 
   92 â”‚   onSubmitContextualization, 
   93 â”‚   onApproveActionPlan, 
   94 â”‚   onResetFlow,
   95 â”‚   isLoading 
   96 â”‚ }: CardDeConstrucaoProps) {
   97 â”‚   const [localContextData, setLocalContextData] = useState<ContextualizationData>({
   98 â”‚     materias: '',
   99 â”‚     publicoAlvo: '',
  100 â”‚     restricoes: '',
  101 â”‚     datasImportantes: '',
  102 â”‚     observacoes: ''
  103 â”‚   });
  104 â”‚ 
  105 â”‚   const [actionPlanItems, setActionPlanItems] = useState<ActionPlanItem[]>([]);
  106 â”‚   const [selectedActivities, setSelectedActivities] = useState<ActionPlanItem[]>([]);
  107 â”‚   // Form data for contextualization
  108 â”‚   const [formData, setFormData] = useState<ContextualizationData>({
  109 â”‚     materias: "",
  110 â”‚     publicoAlvo: "",
  111 â”‚     restricoes: "",
  112 â”‚     datasImportantes: "",
  113 â”‚     observacoes: "",
  114 â”‚   });
  115 â”‚ 
  116 â”‚   // Selected activities for action plan
  117 â”‚   const [selectedActivities2, setSelectedActivities2] = useState<ActionPlanItem[]>([]);
  118 â”‚ 
  119 â”‚   // Filter state for action plan
  120 â”‚   const [filterState, setFilterState] = useState<'all' | 'selected'>('all');
  121 â”‚ 
  122 â”‚   // View mode state (list or grid)
  123 â”‚   const [viewMode, setViewMode] = useState<'list' | 'grid'>('list');
  124 â”‚ 
  125 â”‚   // Debug state for trilhas system
  126 â”‚   const [showTrilhasDebug, setShowTrilhasDebug] = useState<boolean>(false);
  127 â”‚ 
  128 â”‚   // Estado para mostrar a interface de adicionar atividade manual
  129 â”‚   const [showAddActivityInterface, setShowAddActivityInterface] = useState(false);
  130 â”‚ 
  131 â”‚   // Manual activity addition state
  132 â”‚   const [manualActivities, setManualActivities] = useState<ActionPlanItem[]>([]);
  133 â”‚ 
  134 â”‚   // Manual activity form state
  135 â”‚   const [manualActivityForm, setManualActivityForm] = useState({
  136 â”‚     title: '',
  137 â”‚     typeId: '',
  138 â”‚     description: ''
  139 â”‚   });
  140 â”‚ 
  141 â”‚   // State for activity building process
  142 â”‚   const [isBuilding, setIsBuilding] = useState(false);
  143 â”‚ 
  144 â”‚   // State for tracking building progress
  145 â”‚   const [progress, setProgress] = useState<{
  146 â”‚     total: number;
  147 â”‚     completed: number;
  148 â”‚     current: string;
  149 â”‚     errors: string[];
  150 â”‚   } | null>(null);
  151 â”‚ 
  152 â”‚   // Function to simulate activity building
  153 â”‚   const buildActivities = async (activities: ActionPlanItem[]): Promise<boolean> => {
  154 â”‚     setIsBuilding(true);
  155 â”‚     setProgress({
  156 â”‚       total: activities.length,
  157 â”‚       completed: 0,
  158 â”‚       current: '',
  159 â”‚       errors: []
  160 â”‚     });
  161 â”‚ 
  162 â”‚     let allSuccess = true;
  163 â”‚ 
  164 â”‚     for (let i = 0; i < activities.length; i++) {
  165 â”‚       const activity = activities[i];
  166 â”‚       setProgress(prev => ({
  167 â”‚         ...prev,
  168 â”‚         current: `Construindo ${activity.title} (${i + 1}/${activities.length})`
  169 â”‚       }));
  170 â”‚ 
  171 â”‚       try {
  172 â”‚         // Simulate building
  173 â”‚         await new Promise(resolve => setTimeout(resolve, 1000));
  174 â”‚ 
  175 â”‚         // Simulate occasional errors
  176 â”‚         if (Math.random() < 0.2) {
  177 â”‚           throw new Error(`Falha ao construir ${activity.title}`);
  178 â”‚         }
  179 â”‚ 
  180 â”‚         setProgress(prev => ({
  181 â”‚           ...prev,
  182 â”‚           completed: prev.completed + 1
  183 â”‚         }));
  184 â”‚       } catch (error: any) {
  185 â”‚         console.error(error);
  186 â”‚         allSuccess = false;
  187 â”‚         setProgress(prev => ({
  188 â”‚           ...prev,
  189 â”‚           errors: [...prev.errors, error.message]
  190 â”‚         }));
  191 â”‚       }
  192 â”‚     }
  193 â”‚ 
  194 â”‚     setIsBuilding(false);
  195 â”‚     setProgress(prev => ({ ...prev, current: 'Finalizado!' }));
  196 â”‚     return allSuccess;
  197 â”‚   };
  198 â”‚ 
  199 â”‚   // Load existing data when component mounts
  200 â”‚   useEffect(() => {
  201 â”‚     if (contextualizationData) {
  202 â”‚       setFormData(contextualizationData);
  203 â”‚     }
  204 â”‚   }, [contextualizationData]);
  205 â”‚ 
  206 â”‚   // Handle form input changes
  207 â”‚   const handleInputChange = (
  208 â”‚     field: keyof ContextualizationData,
  209 â”‚     value: string,
  210 â”‚   ) => {
  211 â”‚     setFormData((prev) => ({
  212 â”‚       ...prev,
  213 â”‚       [field]: value,
  214 â”‚     }));
  215 â”‚   };
  216 â”‚ 
  217 â”‚   // Handle contextualization form submission
  218 â”‚   const handleSubmitContextualization = () => {
  219 â”‚     if (onSubmitContextualization) {
  220 â”‚       onSubmitContextualization(formData);
  221 â”‚     }
  222 â”‚   };
  223 â”‚ 
  224 â”‚   // Handle activity selection toggle
  225 â”‚   const handleActivityToggle = (activity: ActionPlanItem) => {
  226 â”‚     setSelectedActivities2((prev) => {
  227 â”‚       const isSelected = prev.some((item) => item.id === activity.id);
  228 â”‚       if (isSelected) {
  229 â”‚         return prev.filter((item) => item.id !== activity.id);
  230 â”‚       } else {
  231 â”‚         return [...prev, { ...activity, approved: true }];
  232 â”‚       }
  233 â”‚     });
  234 â”‚   };
  235 â”‚ 
  236 â”‚   useEffect(() => {
  237 â”‚     if (actionPlan) {
  238 â”‚       console.log('ðŸŽ¯ ActionPlan recebido no CardDeConstrucao:', actionPlan);
  239 â”‚       const approved = actionPlan.filter(item => item.approved);
  240 â”‚       setSelectedActivities2(approved);
  241 â”‚     }
  242 â”‚   }, [actionPlan, step]);
  243 â”‚ 
  244 â”‚   const handleApproveActionPlan = async () => {
  245 â”‚     console.log('âœ… Plano de aÃ§Ã£o aprovado! Iniciando construÃ§Ã£o automÃ¡tica com ModalBinderEngine...');
  246 â”‚ 
  247 â”‚     // Aprovar plano primeiro
  248 â”‚     onApproveActionPlan(selectedActivities2);
  249 â”‚ 
  250 â”‚     // Construir atividades automaticamente usando o novo sistema
  251 â”‚     if (selectedActivities2.length > 0) {
  252 â”‚       try {
  253 â”‚         console.log('ðŸ”§ Iniciando construÃ§Ã£o automÃ¡tica com ModalBinderEngine...');
  254 â”‚         console.log('ðŸ“‹ Atividades selecionadas:', selectedActivities2.map(a => a.title));
  255 â”‚ 
  256 â”‚         // Usar o contexto de contextualizaÃ§Ã£o para enriquecer a geraÃ§Ã£o
  257 â”‚         const contextData = {
  258 â”‚           materias: formData.materias,
  259 â”‚           publicoAlvo: formData.publicoAlvo,
  260 â”‚           restricoes: formData.restricoes,
  261 â”‚           datasImportantes: formData.datasImportantes,
  262 â”‚           observacoes: formData.observacoes
  263 â”‚         };
  264 â”‚ 
  265 â”‚         console.log('ðŸŽ¯ Dados de contexto para geraÃ§Ã£o:', contextData);
  266 â”‚ 
  267 â”‚         const success = await buildActivities(selectedActivities2, contextData);
  268 â”‚ 
  269 â”‚         if (success) {
  270 â”‚           console.log('ðŸŽ‰ Todas as atividades foram construÃ­das automaticamente com ModalBinderEngine!');
  271 â”‚ 
  272 â”‚           // Exibir notificaÃ§Ã£o de sucesso
  273 â”‚           console.log('âœ… Sistema de construÃ§Ã£o automÃ¡tica funcionando corretamente!');
  274 â”‚         } else {
  275 â”‚           console.warn('âš ï¸ Algumas atividades podem ter falhado na construÃ§Ã£o automÃ¡tica');
  276 â”‚         }
  277 â”‚       } catch (error) {
  278 â”‚         console.error('âŒ Erro durante construÃ§Ã£o automÃ¡tica:', error);
  279 â”‚         console.error('ðŸ“Š Detalhes do erro:', {
  280 â”‚           message: error.message,
  281 â”‚           stack: error.stack,
  282 â”‚           selectedActivities: selectedActivities2.length,
  283 â”‚           contextData: !!contextData
  284 â”‚         });
  285 â”‚       }
  286 â”‚     } else {
  287 â”‚       console.log('â„¹ï¸ Nenhuma atividade selecionada para construÃ§Ã£o automÃ¡tica');
  288 â”‚     }
  289 â”‚   };
  290 â”‚ 
  291 â”‚   // Handle manual activity form submission
  292 â”‚   const handleAddManualActivity = () => {
  293 â”‚     if (!manualActivityForm.title.trim() || !manualActivityForm.typeId || !manualActivityForm.description.trim()) {
  294 â”‚       return;
  295 â”‚     }
  296 â”‚ 
  297 â”‚     // Find the activity type from schoolPowerActivities
  298 â”‚     const activityType = schoolPowerActivities.find(activity => activity.id === manualActivityForm.typeId);
  299 â”‚ 
  300 â”‚     const newManualActivity: ActionPlanItem = {
  301 â”‚       id: manualActivityForm.typeId,
  302 â”‚       title: manualActivityForm.title,
  303 â”‚       description: manualActivityForm.description,
  304 â”‚       duration: "Personalizado",
  305 â”‚       difficulty: "Personalizado", 
  306 â”‚       category: activityType?.tags[0] || "manual",
  307 â”‚       type: activityType?.name || "Atividade Manual",
  308 â”‚       isManual: true
  309 â”‚     };
  310 â”‚ 
  311 â”‚     // Add to manual activities list
  312 â”‚     setManualActivities(prev => [...prev, newManualActivity]);
  313 â”‚ 
  314 â”‚     // Clear form
  315 â”‚     setManualActivityForm({
  316 â”‚       title: '',
  317 â”‚       typeId: '',
  318 â”‚       description: ''
  319 â”‚     });
  320 â”‚ 
  321 â”‚     // Return to action plan interface
  322 â”‚     setShowAddActivityInterface(false);
  323 â”‚   };
  324 â”‚ 
  325 â”‚   // Handle manual activity form changes
  326 â”‚   const handleManualFormChange = (field: string, value: string) => {
  327 â”‚     setManualActivityForm(prev => ({
  328 â”‚       ...prev,
  329 â”‚       [field]: value
  330 â”‚     }));
  331 â”‚   };
  332 â”‚ 
  333 â”‚   // Get combined activities (AI suggestions + manual)
  334 â”‚   const getCombinedActivities = () => {
  335 â”‚     const aiActivities = actionPlan || [];
  336 â”‚     const allActivities = [...aiActivities, ...manualActivities];
  337 â”‚     return allActivities;
  338 â”‚   };
  339 â”‚ 
  340 â”‚   // Check if contextualization form is valid
  341 â”‚   const isContextualizationValid =
  342 â”‚     formData.materias.trim() && formData.publicoAlvo.trim();
  343 â”‚ 
  344 â”‚   // Grid Toggle Component
  345 â”‚   const GridToggleComponent = ({ viewMode, onToggle }: {
  346 â”‚     viewMode: 'list' | 'grid';
  347 â”‚     onToggle: () => void;
  348 â”‚   }) => {
  349 â”‚     return (
  350 â”‚       <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:350:6" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="350" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-9%20h-9%20flex%20items-center%20justify-center%20rounded-xl%20bg-gradient-to-br%20from-gray-50%20to-gray-100%20dark%3Afrom-gray-800%20dark%3Ato-gray-750%20hover%3Afrom-%5B%23FF6B00%5D%2F5%20hover%3Ato-%5B%23FF9248%5D%2F5%20dark%3Ahover%3Afrom-%5B%23FF6B00%5D%2F10%20dark%3Ahover%3Ato-%5B%23FF9248%5D%2F10%20border%20border-gray-200%20dark%3Aborder-gray-600%20hover%3Aborder-%5B%23FF6B00%5D%2F30%20transition-all%20duration-300%20shadow-sm%20hover%3Ashadow-md%22%7D"
  351 â”‚         onClick={onToggle}
  352 â”‚         className="w-9 h-9 flex items-center justify-center rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-750 hover:from-[#FF6B00]/5 hover:to-[#FF9248]/5 dark:hover:from-[#FF6B00]/10 dark:hover:to-[#FF9248]/10 border border-gray-200 dark:border-gray-600 hover:border-[#FF6B00]/30 transition-all duration-300 shadow-sm hover:shadow-md"
  353 â”‚         title={viewMode === 'list' ? 'VisualizaÃ§Ã£o em Grade' : 'VisualizaÃ§Ã£o em Lista'}
  354 â”‚       >
  355 â”‚         {viewMode === 'list' ? (
  356 â”‚           <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:356:10" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="356" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-%5B%23FF6B00%5D%20transition-colors%20duration-200%22%7D" className="w-4 h-4 text-gray-600 dark:text-gray-300 hover:text-[#FF6B00] transition-colors duration-200" fill="currentColor" viewBox="0 0 20 20">
  357 â”‚             <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:357:12" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="357" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
  358 â”‚           </svg>
  359 â”‚         ) : (
  360 â”‚           <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:360:10" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="360" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-%5B%23FF6B00%5D%20transition-colors%20duration-200%22%7D" className="w-4 h-4 text-gray-600 dark:text-gray-300 hover:text-[#FF6B00] transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
  361 â”‚             <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:361:12" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="361" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" />
  362 â”‚           </svg>
  363 â”‚         )}
  364 â”‚       </button>
  365 â”‚     );
  366 â”‚   };
  367 â”‚ 
  368 â”‚   // Filter Component
  369 â”‚   const FilterComponent = ({ activities, selectedActivities2, onFilterApply }: {
  370 â”‚     activities: ActionPlanItem[];
  371 â”‚     selectedActivities2: ActionPlanItem[];
  372 â”‚     onFilterApply: (filterType: string) => void;
  373 â”‚   }) => {
  374 â”‚     const [isFilterOpen, setIsFilterOpen] = useState(false);
  375 â”‚     const filterRef = useRef<HTMLDivElement>(null);
  376 â”‚ 
  377 â”‚     useEffect(() => {
  378 â”‚       const handleClickOutside = (event: MouseEvent) => {
  379 â”‚         if (filterRef.current && !filterRef.current.contains(event.target as Node)) {
  380 â”‚           setIsFilterOpen(false);
  381 â”‚         }
  382 â”‚       };
  383 â”‚ 
  384 â”‚       document.addEventListener('mousedown', handleClickOutside);
  385 â”‚       return () => document.removeEventListener('mousedown', handleClickOutside);
  386 â”‚     }, []);
  387 â”‚ 
  388 â”‚     return (
  389 â”‚       <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:389:6" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="389" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22relative%22%7D" className="relative" ref={filterRef}>
  390 â”‚         <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:390:8" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="390" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-9%20h-9%20flex%20items-center%20justify-center%20rounded-xl%20bg-gradient-to-br%20from-gray-50%20to-gray-100%20dark%3Afrom-gray-800%20dark%3Ato-gray-750%20hover%3Afrom-%5B%23FF6B00%5D%2F5%20hover%3Ato-%5B%23FF9248%5D%2F5%20dark%3Ahover%3Afrom-%5B%23FF6B00%5D%2F10%20dark%3Ahover%3Ato-%5B%23FF9248%5D%2F10%20border%20border-gray-200%20dark%3Aborder-gray-600%20hover%3Aborder-%5B%23FF6B00%5D%2F30%20transition-all%20duration-300%20shadow-sm%20hover%3Ashadow-md%22%7D"
  391 â”‚           onClick={() => setIsFilterOpen(!isFilterOpen)}
  392 â”‚           className="w-9 h-9 flex items-center justify-center rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-750 hover:from-[#FF6B00]/5 hover:to-[#FF9248]/5 dark:hover:from-[#FF6B00]/10 dark:hover:to-[#FF9248]/10 border border-gray-200 dark:border-gray-600 hover:border-[#FF6B00]/30 transition-all duration-300 shadow-sm hover:shadow-md"
  393 â”‚           title="Filtros e AÃ§Ãµes"
  394 â”‚         >
  395 â”‚           <Filter data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:395:10" data-lov-name="Filter"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="395" data-component-file="CardDeConstrucao.tsx" data-component-name="Filter" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-%5B%23FF6B00%5D%20transition-colors%20duration-200%22%7D" className="w-4 h-4 text-gray-600 dark:text-gray-300 hover:text-[#FF6B00] transition-colors duration-200" />
  396 â”‚         </button>
  397 â”‚ 
  398 â”‚         {isFilterOpen && (
  399 â”‚           <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:399:10" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="399" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22absolute%20top-full%20right-0%20mt-3%20w-56%20bg-white%20dark%3Abg-gray-800%20rounded-2xl%20shadow-2xl%20border%20border-gray-200%20dark%3Aborder-gray-600%20overflow-hidden%20z-50%20backdrop-blur-sm%22%7D"
  400 â”‚             initial={{ opacity: 0, y: -10, scale: 0.95 }}
  401 â”‚             animate={{ opacity: 1, y: 0, scale: 1 }}
  402 â”‚             exit={{ opacity: 0, y: -10, scale: 0.95 }}
  403 â”‚             transition={{ duration: 0.2, ease: [0.25, 0.1, 0.25, 1] }}
  404 â”‚             className="absolute top-full right-0 mt-3 w-56 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-600 overflow-hidden z-50 backdrop-blur-sm"
  405 â”‚             style={{
  406 â”‚               background: `
  407 â”‚                 linear-gradient(135deg, 
  408 â”‚                   rgba(255, 255, 255, 0.95) 0%, 
  409 â”‚                   rgba(248, 250, 252, 0.98) 100%
  410 â”‚                 )
  411 â”‚               `,
  412 â”‚               ...(typeof window !== "undefined" &&
  413 â”‚               window.matchMedia("(prefers-color-scheme: dark)").matches
  414 â”‚                 ? {
  415 â”‚                     background: `
  416 â”‚                   linear-gradient(135deg, 
  417 â”‚                     rgba(31, 41, 55, 0.95) 0%, 
  418 â”‚                     rgba(17, 24, 39, 0.98) 100%
  419 â”‚                   )
  420 â”‚                 `,
  421 â”‚                   }
  422 â”‚                 : {}),
  423 â”‚             }}
  424 â”‚           >
  425 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:425:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="425" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22p-2%22%7D" className="p-2">
  426 â”‚               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:426:14" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="426" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22px-3%20py-2%20border-b%20border-gray-200%20dark%3Aborder-gray-600%22%7D" className="px-3 py-2 border-b border-gray-200 dark:border-gray-600">
  427 â”‚                 <h3 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:427:16" data-lov-name="h3"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="427" data-component-file="CardDeConstrucao.tsx" data-component-name="h3" data-component-content="%7B%22text%22%3A%22Filtros%20e%20A%C3%A7%C3%B5es%22%2C%22className%22%3A%22text-sm%20font-semibold%20text-gray-900%20dark%3Atext-white%20flex%20items-center%20gap-2%22%7D" className="text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2">
  428 â”‚                   <Filter data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:428:18" data-lov-name="Filter"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="428" data-component-file="CardDeConstrucao.tsx" data-component-name="Filter" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-%5B%23FF6B00%5D%22%7D" className="w-4 h-4 text-[#FF6B00]" />
  429 â”‚                   Filtros e AÃ§Ãµes
  430 â”‚                 </h3>
  431 â”‚               </div>
  432 â”‚ 
  433 â”‚               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:433:14" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="433" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22py-1%20space-y-1%22%7D" className="py-1 space-y-1">
  434 â”‚                 <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:434:16" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="434" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-full%20px-3%20py-2.5%20text-left%20text-sm%20text-gray-700%20dark%3Atext-gray-300%20hover%3Abg-gradient-to-r%20hover%3Afrom-%5B%23FF6B00%5D%2F10%20hover%3Ato-%5B%23FF9248%5D%2F5%20rounded-lg%20transition-all%20duration-200%20flex%20items-center%20gap-3%20group%22%7D"
  435 â”‚                   onClick={() => {
  436 â”‚                     onFilterApply('selectAll');
  437 â”‚                     setIsFilterOpen(false);
  438 â”‚                   }}
  439 â”‚                   className="w-full px-3 py-2.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-[#FF6B00]/10 hover:to-[#FF9248]/5 rounded-lg transition-all duration-200 flex items-center gap-3 group"
  440 â”‚                 >
  441 â”‚                   <CheckSquare data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:441:18" data-lov-name="CheckSquare"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="441" data-component-file="CardDeConstrucao.tsx" data-component-name="CheckSquare" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-%5B%23FF6B00%5D%20group-hover%3Ascale-110%20transition-transform%20duration-200%22%7D" className="w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform duration-200" />
  442 â”‚                   <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:442:18" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="442" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22Selecionar%20todos%22%2C%22className%22%3A%22font-medium%22%7D" className="font-medium">Selecionar todos</span>
  443 â”‚                 </button>
  444 â”‚ 
  445 â”‚                 <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:445:16" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="445" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-full%20px-3%20py-2.5%20text-left%20text-sm%20text-gray-700%20dark%3Atext-gray-300%20hover%3Abg-gradient-to-r%20hover%3Afrom-%5B%23FF6B00%5D%2F10%20hover%3Ato-%5B%23FF9248%5D%2F5%20rounded-lg%20transition-all%20duration-200%20flex%20items-center%20gap-3%20group%22%7D"
  446 â”‚                   onClick={() => {
  447 â”‚                     onFilterApply('selectRecommended');
  448 â”‚                     setIsFilterOpen(false);
  449 â”‚                   }}
  450 â”‚                   className="w-full px-3 py-2.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-[#FF6B00]/10 hover:to-[#FF9248]/5 rounded-lg transition-all duration-200 flex items-center gap-3 group"
  451 â”‚                 >
  452 â”‚                   <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:452:18" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="452" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-%5B%23FF6B00%5D%20group-hover%3Ascale-110%20transition-transform%20duration-200%22%7D" className="w-4 h-4 text-[#FF6B00] group-hover:scale-110 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
  453 â”‚                     <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:453:20" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="453" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" fillRule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clipRule="evenodd" />
  454 â”‚                   </svg>
  455 â”‚                   <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:455:18" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="455" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22Selecionar%20recomenda%C3%A7%C3%B5es%22%2C%22className%22%3A%22font-medium%22%7D" className="font-medium">Selecionar recomendaÃ§Ãµes</span>
  456 â”‚                 </button>
  457 â”‚ 
  458 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:458:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="458" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22border-t%20border-gray-200%20dark%3Aborder-gray-600%20my-1%22%7D" className="border-t border-gray-200 dark:border-gray-600 my-1"></div>
  459 â”‚ 
  460 â”‚                 <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:460:16" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="460" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-full%20px-3%20py-2.5%20text-left%20text-sm%20text-gray-700%20dark%3Atext-gray-300%20hover%3Abg-gradient-to-r%20hover%3Afrom-blue-500%2F10%20hover%3Ato-blue-600%2F5%20rounded-lg%20transition-all%20duration-200%20flex%20items-center%20gap-3%20group%22%7D"
  461 â”‚                   onClick={() => {
  462 â”‚                     onFilterApply('viewSelected');
  463 â”‚                     setIsFilterOpen(false);
  464 â”‚                   }}
  465 â”‚                   className="w-full px-3 py-2.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-blue-500/10 hover:to-blue-600/5 rounded-lg transition-all duration-200 flex items-center gap-3 group"
  466 â”‚                 >
  467 â”‚                   <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:467:18" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="467" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-blue-500%20group-hover%3Ascale-110%20transition-transform%20duration-200%22%7D" className="w-4 h-4 text-blue-500 group-hover:scale-110 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
  468 â”‚                     <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:468:20" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="468" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" fillRule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clipRule="evenodd" />
  469 â”‚                   </svg>
  470 â”‚                   <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:470:18" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="470" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22Ver%20apenas%20selecionados%22%2C%22className%22%3A%22font-medium%22%7D" className="font-medium">Ver apenas selecionados</span>
  471 â”‚                 </button>
  472 â”‚ 
  473 â”‚                 <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:473:16" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="473" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-full%20px-3%20py-2.5%20text-left%20text-sm%20text-gray-700%20dark%3Atext-gray-300%20hover%3Abg-gradient-to-r%20hover%3Afrom-red-500%2F10%20hover%3Ato-red-600%2F5%20rounded-lg%20transition-all%20duration-200%20flex%20items-center%20gap-3%20group%22%7D"
  474 â”‚                   onClick={() => {
  475 â”‚                     onFilterApply('clearSelected');
  476 â”‚                     setIsFilterOpen(false);
  477 â”‚                   }}
  478 â”‚                   className="w-full px-3 py-2.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-red-500/10 hover:to-red-600/5 rounded-lg transition-all duration-200 flex items-center gap-3 group"
  479 â”‚                 >
  480 â”‚                   <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:480:18" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="480" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-red-500%20group-hover%3Ascale-110%20transition-transform%20duration-200%22%7D" className="w-4 h-4 text-red-500 group-hover:scale-110 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
  481 â”‚                     <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:481:20" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="481" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" fillRule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clipRule="evenodd" />
  482 â”‚                   </svg>
  483 â”‚                   <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:483:18" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="483" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22Tirar%20selecionados%22%2C%22className%22%3A%22font-medium%22%7D" className="font-medium">Tirar selecionados</span>
  484 â”‚                 </button>
  485 â”‚ 
  486 â”‚                 <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:486:16" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="486" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-full%20px-3%20py-2.5%20text-left%20text-sm%20text-gray-700%20dark%3Atext-gray-300%20hover%3Abg-gradient-to-r%20hover%3Afrom-gray-500%2F10%20hover%3Ato-gray-600%2F5%20rounded-lg%20transition-all%20duration-200%20flex%20items-center%20gap-3%20group%22%7D"
  487 â”‚                   onClick={() => {
  488 â”‚                     onFilterApply('viewAll');
  489 â”‚                     setIsFilterOpen(false);
  490 â”‚                   }}
  491 â”‚                   className="w-full px-3 py-2.5 text-left text-sm text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-gray-500/10 hover:to-gray-600/5 rounded-lg transition-all duration-200 flex items-center gap-3 group"
  492 â”‚                 >
  493 â”‚                   <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:493:18" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="493" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-gray-500%20group-hover%3Ascale-110%20transition-transform%20duration-200%22%7D" className="w-4 h-4 text-gray-500 group-hover:scale-110 transition-transform duration-200" fill="currentColor" viewBox="0 0 20 20">
  494 â”‚                     <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:494:20" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="494" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" fillRule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clipRule="evenodd" />
  495 â”‚                   </svg>
  496 â”‚                   <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:496:18" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="496" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22Ver%20todas%22%2C%22className%22%3A%22font-medium%22%7D" className="font-medium">Ver todas</span>
  497 â”‚                 </button>
  498 â”‚               </div>
  499 â”‚             </div>
  500 â”‚           </motion.div>
  501 â”‚         )}
  502 â”‚       </div>
  503 â”‚     );
  504 â”‚   };
  505 â”‚ 
  506 â”‚   // Handle filter actions
  507 â”‚   const handleFilterApply = (filterType: string) => {
  508 â”‚     const combinedActivities = getCombinedActivities();
  509 â”‚     if (combinedActivities.length === 0) return;
  510 â”‚ 
  511 â”‚     switch (filterType) {
  512 â”‚       case 'selectAll':
  513 â”‚         setSelectedActivities2([...combinedActivities]);
  514 â”‚         setFilterState('all');
  515 â”‚         break;
  516 â”‚       case 'selectRecommended':
  517 â”‚         // Seleciona as 3 primeiras atividades como "recomendadas"
  518 â”‚         const recommended = combinedActivities.slice(0, Math.min(3, combinedActivities.length));
  519 â”‚         setSelectedActivities2(recommended);
  520 â”‚         setFilterState('all');
  521 â”‚         break;
  522 â”‚       case 'viewSelected':
  523 â”‚         setFilterState('selected');
  524 â”‚         break;
  525 â”‚       case 'clearSelected':
  526 â”‚         setSelectedActivities2([]);
  527 â”‚         setFilterState('all');
  528 â”‚         break;
  529 â”‚       case 'viewAll':
  530 â”‚         setFilterState('all');
  531 â”‚         break;
  532 â”‚       default:
  533 â”‚         break;
  534 â”‚     }
  535 â”‚   };
  536 â”‚ 
  537 â”‚   const getIconByActivityId = (activityId: string) => {
  538 â”‚     // Sistema de mapeamento 100% Ãºnico - cada ID tem seu prÃ³prio Ã­cone especÃ­fico
  539 â”‚     const uniqueIconMapping: { [key: string]: any } = {
  540 â”‚       "atividade-adaptada": Heart,
  541 â”‚       "atividades-contos-infantis": BookOpen,
  542 â”‚       "atividades-ia": Brain,
  543 â”‚       "atividades-matematica": Target,
  544 â”‚       "atividades-ortografia-alfabeto": PenTool,
  545 â”‚       "aulas-eletivas": Star,
  546 â”‚       "bncc-descomplicada": BookOpen,
  547 â”‚       "caca-palavras": Puzzle,
  548 â”‚       "capitulo-livro": BookOpen,
  549 â”‚       "charadas": Puzzle,
  550 â”‚       "chatbot-bncc": MessageSquare,
  551 â”‚       "consulta-video": Video,
  552 â”‚       "corretor-gramatical": CheckSquare,
  553 â”‚       "corretor-provas-feedback": CheckSquare,
  554 â”‚       "corretor-provas-papel": FileText,
  555 â”‚       "corretor-questoes": PenTool,
  556 â”‚       "corretor-redacao": PenTool,
  557 â”‚       "criterios-avaliacao": CheckSquare,
  558 â”‚       "desenho-simetrico": Puzzle,
  559 â”‚       "desenvolvimento-caligrafia": PenTool,
  560 â”‚       "dinamicas-sala-aula": Users,
  561 â”‚       "emails-escolares": Mail,
  562 â”‚       "erros-comuns": Search,
  563 â”‚       "exemplos-contextualizados": BookOpen,
  564 â”‚       "experimento-cientifico": Microscope,
  565 â”‚       "fichamento-obra-literaria": BookOpen,
  566 â”‚       "gerador-tracejados": PenTool,
  567 â”‚       "historias-sociais": Heart,
  568 â”‚       "ideias-atividades": Lightbulb,
  569 â”‚       "ideias-aulas-acessiveis": Heart,
  570 â”‚       "ideias-avaliacoes-adaptadas": Heart,
  571 â”‚       "ideias-brincadeiras-infantis": Play,
  572 â”‚       "ideias-confraternizacoes": Users,
  573 â”‚       "ideias-datas-comemorativas": Calendar,
  574 â”‚       "imagem-para-colorir": Palette,
  575 â”‚       "instrucoes-claras": FileText,
  576 â”‚       "jogos-educacionais-interativos": Gamepad2,
  577 â”‚       "jogos-educativos": Puzzle,
  578 â”‚       "lista-exercicios": FileText,
  579 â”‚       "lista-vocabulario": BookOpen,
  580 â”‚       "maquete": Wrench,
  581 â”‚       "mapa-mental": Brain,
  582 â”‚       "mensagens-agradecimento": Heart,
  583 â”‚       "musica-engajar": Music,
  584 â”‚       "niveador-textos": BookOpen,
  585 â”‚       "objetivos-aprendizagem": Target,
  586 â”‚       "palavras-cruzadas": Puzzle,
  587 â”‚       "pei-pdi": Heart,
  588 â”‚       "perguntas-taxonomia-bloom": MessageSquare,
  589 â”‚       "pergunte-texto": MessageSquare,
  590 â”‚       "plano-aula": BookOpen,
  591 â”‚       "plano-ensino": BookOpen,
  592 â”‚       "plano-recuperacao": Heart,
  593 â”‚       "projeto": Wrench,
  594 â”‚       "projeto-vida": Star,
  595 â”‚       "proposta-redacao": PenTool,
  596 â”‚       "prova": CheckSquare,
  597 â”‚       "questoes-pdf": FileText,
  598 â”‚       "questoes-site": Globe,
  599 â”‚       "questoes-texto": FileText,
  600 â”‚       "questoes-video": Video,
  601 â”‚       "redacao": PenTool,
  602 â”‚       "reescritor-texto": PenTool,
  603 â”‚       "reflexao-incidente": MessageSquare,
  604 â”‚       "relatorio": FileText,
  605 â”‚       "relatorio-desempenho": Trophy,
  606 â”‚       "resposta-email": Mail,
  607 â”‚       "revisor-gramatical": CheckSquare,
  608 â”‚       "revisao-guiada": BookOpen,
  609 â”‚       "resumo": FileText,
  610 â”‚       "resumo-texto": FileText,
  611 â”‚       "resumo-video": Video,
  612 â”‚       "sequencia-didatica": BookOpen,
  613 â”‚       "simulado": CheckSquare,
  614 â”‚       "sugestoes-intervencao": Lightbulb,
  615 â”‚       "tabela-apoio": Puzzle,
  616 â”‚       "tarefa-adaptada": Heart,
  617 â”‚       "texto-apoio": BookOpen,
  618 â”‚       "gerar-questoes": PenTool,
  619 â”‚       "apresentacao-slides": Target,
  620 â”‚       "tornar-relevante": Star
  621 â”‚     };
  622 â”‚ 
  623 â”‚     // Verifica se existe mapeamento direto para o ID
  624 â”‚     if (uniqueIconMapping[activityId]) {
  625 â”‚       return uniqueIconMapping[activityId];
  626 â”‚     }
  627 â”‚ 
  628 â”‚     // Sistema de fallback com hash consistente para IDs nÃ£o mapeados
  629 â”‚     const fallbackIcons = [
  630 â”‚       BookOpen, FileText, PenTool, Search, Brain,
  631 â”‚       Users, MessageSquare, Presentation, ThumbsUp, Heart,
  632 â”‚       Wrench, Target, Compass, Trophy, Edit3,
  633 â”‚       Calendar, Clock, CheckSquare, Star, Award,
  634 â”‚       Microscope, Calculator, Eye, Globe, MapPin,
  635 â”‚       Music, Palette, Camera, Video, Headphones,
  636 â”‚       Lightbulb, Zap, Flag, Key, Shield,
  637 â”‚       TreePine, Sun, Cloud, Home, Car
  638 â”‚     ];
  639 â”‚ 
  640 â”‚     // Gera hash consistente baseado no ID
  641 â”‚     let hash = 0;
  642 â”‚     for (let i = 0; i < activityId.length; i++) {
  643 â”‚       const char = activityId.charCodeAt(i);
  644 â”‚       hash = ((hash << 5) - hash) + char;
  645 â”‚       hash = hash & hash;
  646 â”‚     }
  647 â”‚ 
  648 â”‚     const iconIndex = Math.abs(hash) % fallbackIcons.length;
  649 â”‚     return fallbackIcons[iconIndex];
  650 â”‚   };
  651 â”‚ 
  652 â”‚   const [selectedTrilhasCount, setSelectedTrilhasCount] = useState(0);
  653 â”‚ 
  654 â”‚   useEffect(() => {
  655 â”‚     const trilhasActivityIds = [
  656 â”‚       'projeto-pesquisa',
  657 â”‚       'projeto-cientifico',
  658 â”‚       'projeto-criativo',
  659 â”‚       'projeto-colaborativo',
  660 â”‚       'projeto-individual',
  661 â”‚       'projeto-inovacao',
  662 â”‚       'projeto-sustentabilidade',
  663 â”‚       'projeto-social',
  664 â”‚       'projeto-tecnologico',
  665 â”‚       'projeto-artistico',
  666 â”‚       'projeto-empreendedor',
  667 â”‚       'projeto-interdisciplinar',
  668 â”‚       'projeto-experimental',
  669 â”‚       'projeto-aplicado',
  670 â”‚       'projeto-extensao',
  671 â”‚       'projeto-integrador',
  672 â”‚       'projeto-final',
  673 â”‚     ];
  674 â”‚ 
  675 â”‚     const selectedTrilhas = selectedActivities2.filter(activity =>
  676 â”‚       trilhasActivityIds.includes(activity.id)
  677 â”‚     );
  678 â”‚ 
  679 â”‚     setSelectedTrilhasCount(selectedTrilhas.length);
  680 â”‚   }, [selectedActivities2]);
  681 â”‚ 
  682 â”‚   return (
  683 â”‚     <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:683:4" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="683" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22relative%20rounded-2xl%20p-6%20shadow-2xl%20border%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F30%20bg-white%20dark%3Abg-%5B%23021321%5D%22%7D"
  684 â”‚       initial={{ opacity: 0, scale: 0.8, y: 50 }}
  685 â”‚       animate={{ opacity: 1, scale: 1, y: 0 }}
  686 â”‚       exit={{ opacity: 0, scale: 0.8, y: -50 }}
  687 â”‚       transition={{
  688 â”‚         duration: 0.6,
  689 â”‚         ease: [0.25, 0.1, 0.25, 1],
  690 â”‚         type: "spring",
  691 â”‚         stiffness: 100,
  692 â”‚         damping: 15,
  693 â”‚       }}
  694 â”‚       className="relative rounded-2xl p-6 shadow-2xl border border-[#FF6B00]/30 dark:border-[#FF6B00]/30 bg-white dark:bg-[#021321]"
  695 â”‚       style={{
  696 â”‚         width: "1353px",
  697 â”‚         height: "773px"
  698 â”‚       }}
  699 â”‚       data-theme="adaptive"
  700 â”‚     >
  701 â”‚       {/* CabeÃ§alho Persistente Fixo */}
  702 â”‚       <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:702:6" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="702" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22absolute%20top-0%20left-0%20right-0%20h-20%20bg-gradient-to-r%20from-%5B%23FF6B00%5D%20to-%5B%23FF9248%5D%20rounded-t-2xl%20flex%20items-center%20justify-between%20px-6%20z-0%22%7D" className="absolute top-0 left-0 right-0 h-20 bg-gradient-to-r from-[#FF6B00] to-[#FF9248] rounded-t-2xl flex items-center justify-between px-6 z-0">
  703 â”‚         <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:703:8" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="703" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D" className="flex items-center gap-4">
  704 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:704:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="704" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22w-12%20h-12%20bg-white%2F20%20rounded-lg%20flex%20items-center%20justify-center%22%7D" className="w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center">
  705 â”‚             {step === "contextualization" ? (
  706 â”‚               <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:706:14" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="706" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-7%20h-7%20text-white%22%7D"
  707 â”‚                 className="w-7 h-7 text-white"
  708 â”‚                 fill="none"
  709 â”‚                 viewBox="0 0 24 24"
  710 â”‚                 stroke="currentColor"
  711 â”‚               >
  712 â”‚                 <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:712:16" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="712" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D"
  713 â”‚                   strokeLinecap="round"
  714 â”‚                   strokeLinejoin="round"
  715 â”‚                   strokeWidth={2}
  716 â”‚                   d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
  717 â”‚                 />
  718 â”‚               </svg>
  719 â”‚             ) : step === "actionPlan" ? (
  720 â”‚               <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:720:14" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="720" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-7%20h-7%20text-white%22%7D"
  721 â”‚                 className="w-7 h-7 text-white"
  722 â”‚                 fill="none"
  723 â”‚                 viewBox="0 0 24 24"
  724 â”‚                 stroke="currentColor"
  725 â”‚               >
  726 â”‚                 <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:726:16" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="726" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D"
  727 â”‚                   strokeLinecap="round"
  728 â”‚                   strokeLinejoin="round"
  729 â”‚                   strokeWidth={2}
  730 â”‚                   d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"
  731 â”‚                 />
  732 â”‚               </svg>
  733 â”‚             ) : (
  734 â”‚               <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:734:14" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="734" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-7%20h-7%20text-white%20animate-spin%22%7D"
  735 â”‚                 className="w-7 h-7 text-white animate-spin"
  736 â”‚                 fill="none"
  737 â”‚                 viewBox="0 0 24 24"
  738 â”‚                 stroke="currentColor"
  739 â”‚               >
  740 â”‚                 <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:740:16" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="740" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D"
  741 â”‚                   strokeLinecap="round"
  742 â”‚                   strokeLinejoin="round"
  743 â”‚                   strokeWidth={2}
  744 â”‚                   d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
  745 â”‚                 />
  746 â”‚               </svg>
  747 â”‚             )}
  748 â”‚           </div>
  749 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:749:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="749" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
  750 â”‚             <h1 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:750:12" data-lov-name="h1"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="750" data-component-file="CardDeConstrucao.tsx" data-component-name="h1" data-component-content="%7B%22className%22%3A%22text-white%20font-bold%20text-2xl%22%7D" className="text-white font-bold text-2xl">
  751 â”‚               {step === "contextualization"
  752 â”‚                 ? "Quiz de ContextualizaÃ§Ã£o"
  753 â”‚                 : step === "actionPlan"
  754 â”‚                   ? "Plano de AÃ§Ã£o"
  755 â”‚                   : step === "generating"
  756 â”‚                     ? "Gerando ConteÃºdo..."
  757 â”‚                     : step === "activities"
  758 â”‚                       ? "ConstruÃ§Ã£o de Atividades"
  759 â”‚                       : "School Power"}
  760 â”‚             </h1>
  761 â”‚           </div>
  762 â”‚         </div>
  763 â”‚ 
  764 â”‚         {/* Barra de Progresso */}
  765 â”‚         <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:765:8" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="765" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20gap-4%22%7D" className="flex items-center gap-4">
  766 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:766:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="766" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22relative%20flex%20items-center%20justify-between%20w-44%22%7D" className="relative flex items-center justify-between w-44">
  767 â”‚             {/* Background progress line */}
  768 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:768:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="768" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22absolute%20top-1%2F2%20transform%20-translate-y-1%2F2%20h-1.5%20bg-white%2F30%20rounded-full%20z-0%22%7D" className="absolute top-1/2 transform -translate-y-1/2 h-1.5 bg-white/30 rounded-full z-0" style={{ left: '16px', right: '16px' }}></div>
  769 â”‚ 
  770 â”‚             {/* Active progress line */}
  771 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:771:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="771" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22absolute%20top-1%2F2%20transform%20-translate-y-1%2F2%20h-1.5%20bg-white%20rounded-full%20z-0%20transition-all%20duration-500%20ease-out%22%7D" 
  772 â”‚               className="absolute top-1/2 transform -translate-y-1/2 h-1.5 bg-white rounded-full z-0 transition-all duration-500 ease-out"
  773 â”‚               style={{ 
  774 â”‚                 left: '16px',
  775 â”‚                 width: `${
  776 â”‚                   step === "contextualization" ? "0%" :
  777 â”‚                   step === "actionPlan" ? "50%" :
  778 â”‚                   (step === "generating" || step === "generatingActivities" || step === "activities") ? "100%" : "0%"
  779 â”‚                 }`
  780 â”‚               }}
  781 â”‚             ></div>
  782 â”‚ 
  783 â”‚             {/* Step indicators */}
  784 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:784:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="784" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D" className={`relative z-10 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${
  785 â”‚               step === "contextualization" ? 'bg-white border-white text-[#FF6B00]' : 'bg-[#FF6B00] border-white text-white'
  786 â”‚             }`}>
  787 â”‚               {step === "contextualization" ? (
  788 â”‚                 <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:788:16" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="788" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%221%22%2C%22className%22%3A%22text-sm%20font-semibold%22%7D" className="text-sm font-semibold">1</span>
  789 â”‚               ) : (
  790 â”‚                 <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:790:16" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="790" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%22%7D" className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
  791 â”‚                   <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:791:18" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="791" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
  792 â”‚                 </svg>
  793 â”‚               )}
  794 â”‚             </div>
  795 â”‚ 
  796 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:796:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="796" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D" className={`relative z-10 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${
  797 â”‚               step === "actionPlan" ? 'bg-white border-white text-[#FF6B00]' :
  798 â”‚               (step === "generating" || step === "generatingActivities" || step === "activities") ? 'bg-[#FF6B00] border-white text-white' :
  799 â”‚               'bg-white/20 border-white/30 text-white'
  800 â”‚             }`}>
  801 â”‚               {step === "actionPlan" ? (
  802 â”‚                 <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:802:16" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="802" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%222%22%2C%22className%22%3A%22text-sm%20font-semibold%22%7D" className="text-sm font-semibold">2</span>
  803 â”‚               ) : (step === "generating" || step === "generatingActivities" || step === "activities") ? (
  804 â”‚                 <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:804:16" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="804" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%22%7D" className="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
  805 â”‚                   <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:805:18" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="805" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
  806 â”‚                 </svg>
  807 â”‚               ) : (
  808 â”‚                 <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:808:16" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="808" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%222%22%2C%22className%22%3A%22text-sm%20font-semibold%22%7D" className="text-sm font-semibold">2</span>
  809 â”‚               )}
  810 â”‚             </div>
  811 â”‚ 
  812 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:812:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="812" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D" className={`relative z-10 w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${
  813 â”‚               (step === "generating" || step === "generatingActivities" || step === "activities") ? 'bg-white border-white text-[#FF6B00]' : 'bg-white/20 border-white/30 text-white'
  814 â”‚             }`}>
  815 â”‚               <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:815:14" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="815" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%223%22%2C%22className%22%3A%22text-sm%20font-semibold%22%7D" className="text-sm font-semibold">3</span>
  816 â”‚             </div>
  817 â”‚           </div>
  818 â”‚         </div>
  819 â”‚       </div>
  820 â”‚ 
  821 â”‚       {/* RenderizaÃ§Ã£o condicional baseada no step */}
  822 â”‚       {step === "generating" || step === "generatingActivities" ? (
  823 â”‚         <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:823:8" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="823" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22relative%20z-10%20flex%20flex-col%20items-center%20justify-center%20h-full%20text-center%20px-4%20pt-16%22%7D"
  824 â”‚           className="relative z-10 flex flex-col items-center justify-center h-full text-center px-4 pt-16"
  825 â”‚           initial={{ opacity: 0 }}
  826 â”‚           animate={{ opacity: 1 }}
  827 â”‚           transition={{ duration: 0.3 }}
  828 â”‚         >
  829 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:829:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="829" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22relative%20mb-4%22%7D" className="relative mb-4">
  830 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:830:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="830" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22animate-spin%20rounded-full%20h-16%20w-16%20border-4%20border-%5B%23FF6B00%5D%2F20%20border-t-%5B%23FF6B00%5D%20mx-auto%22%7D" className="animate-spin rounded-full h-16 w-16 border-4 border-[#FF6B00]/20 border-t-[#FF6B00] mx-auto"></div>
  831 â”‚             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:831:12" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="831" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22absolute%20inset-0%20rounded-full%20bg-gradient-to-r%20from-%5B%23FF6B00%5D%2F10%20to-transparent%20animate-pulse%22%7D" className="absolute inset-0 rounded-full bg-gradient-to-r from-[#FF6B00]/10 to-transparent animate-pulse"></div>
  832 â”‚           </div>
  833 â”‚           <h3 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:833:10" data-lov-name="h3"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="833" data-component-file="CardDeConstrucao.tsx" data-component-name="h3" data-component-content="%7B%22className%22%3A%22text-xl%20sm%3Atext-2xl%20font-bold%20text-gray-900%20dark%3Atext-white%20mb-3%22%7D" className="text-xl sm:text-2xl font-bold text-gray-900 dark:text-white mb-3">
  834 â”‚             {step === "generating"
  835 â”‚               ? "ðŸ¤– Analisando com IA Gemini"
  836 â”‚               : "ðŸŽ¯ Gerando Atividades"}
  837 â”‚           </h3>
  838 â”‚           <p data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:838:10" data-lov-name="p"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="838" data-component-file="CardDeConstrucao.tsx" data-component-name="p" data-component-content="%7B%22className%22%3A%22text-gray-700%20dark%3Atext-gray-300%20mb-4%20max-w-lg%20text-sm%20sm%3Atext-base%22%7D" className="text-gray-700 dark:text-gray-300 mb-4 max-w-lg text-sm sm:text-base">
  839 â”‚             {step === "generating"
  840 â”‚               ? "A IA estÃ¡ processando sua mensagem e contexto para criar um plano de aÃ§Ã£o personalizado..."
  841 â”‚               : "As atividades aprovadas estÃ£o sendo geradas automaticamente pelo School Power..."}
  842 â”‚           </p>
  843 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:843:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="843" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22bg-gradient-to-r%20from-%5B%23FF6B00%5D%2F10%20to-orange-100%2F20%20dark%3Ato-%5B%2329335C%5D%2F10%20rounded-lg%20p-3%20sm%3Ap-4%20mb-4%20border%20border-%5B%23FF6B00%5D%2F20%20max-w-md%20w-full%22%7D" className="bg-gradient-to-r from-[#FF6B00]/10 to-orange-100/20 dark:to-[#29335C]/10 rounded-lg p-3 sm:p-4 mb-4 border border-[#FF6B00]/20 max-w-md w-full">
  844 â”‚             <p data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:844:12" data-lov-name="p"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="844" data-component-file="CardDeConstrucao.tsx" data-component-name="p" data-component-content="%7B%22className%22%3A%22text-xs%20sm%3Atext-sm%20text-gray-700%20dark%3Atext-gray-300%20leading-relaxed%22%7D" className="text-xs sm:text-sm text-gray-700 dark:text-gray-300 leading-relaxed">
  845 â”‚               {step === "generating" ? (
  846 â”‚                 <>
  847 â”‚                   âœ¨ Consultando 137 atividades disponÃ­veis
  848 â”‚                   <br data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:848:18" data-lov-name="br"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="848" data-component-file="CardDeConstrucao.tsx" data-component-name="br" data-component-content="%7B%7D" />
  849 â”‚                   ðŸŽ¯ Personalizando para seu contexto especÃ­fico
  850 â”‚                   <br data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:850:18" data-lov-name="br"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="850" data-component-file="CardDeConstrucao.tsx" data-component-name="br" data-component-content="%7B%7D" />
  851 â”‚                   ðŸ“ Gerando sugestÃµes inteligentes
  852 â”‚                   <br data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:852:18" data-lov-name="br"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="852" data-component-file="CardDeConstrucao.tsx" data-component-name="br" data-component-content="%7B%7D" />
  853 â”‚                   ðŸ” Validando compatibilidade das atividades
  854 â”‚                 </>
  855 â”‚               ) : (
  856 â”‚                 <>
  857 â”‚                   âœ… Personalizando conteÃºdo das atividades
  858 â”‚                   <br data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:858:18" data-lov-name="br"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="858" data-component-file="CardDeConstrucao.tsx" data-component-name="br" data-component-content="%7B%7D" />
  859 â”‚                   ðŸŽ¨ Criando materiais visuais
  860 â”‚                   <br data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:860:18" data-lov-name="br"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="860" data-component-file="CardDeConstrucao.tsx" data-component-name="br" data-component-content="%7B%7D" />
  861 â”‚                   ðŸ“ Formatando atividades finais
  862 â”‚                   <br data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:862:18" data-lov-name="br"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="862" data-component-file="CardDeConstrucao.tsx" data-component-name="br" data-component-content="%7B%7D" />
  863 â”‚                   ðŸš€ Preparando download
  864 â”‚                 </>
  865 â”‚               )}
  866 â”‚             </p>
  867 â”‚           </div>
  868 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:868:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="868" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20gap-3%20justify-center%22%7D" className="flex gap-3 justify-center">
  869 â”‚             {onResetFlow && (
  870 â”‚               <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:870:14" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="870" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22text%22%3A%22Cancelar%22%2C%22className%22%3A%22px-4%20py-2%20text-sm%20text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-gray-900%20dark%3Ahover%3Atext-white%20border%20border-gray-400%20dark%3Aborder-gray-600%20rounded-lg%20hover%3Abg-gray-100%20dark%3Ahover%3Abg-gray-800%20transition-colors%20duration-200%22%7D"
  871 â”‚                 onClick={onResetFlow}
  872 â”‚                 className="px-4 py-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white border border-gray-400 dark:border-gray-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200"
  873 â”‚               >
  874 â”‚                 Cancelar
  875 â”‚               </button>
  876 â”‚             )}
  877 â”‚           </div>
  878 â”‚         </motion.div>
  879 â”‚       ) : step === "activities" ? (
  880 â”‚         <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:880:8" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="880" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22relative%20z-10%20h-full%20flex%20flex-col%20pt-16%22%7D"
  881 â”‚           key="activities-content"
  882 â”‚           initial={{ opacity: 0, x: 20 }}
  883 â”‚           animate={{ opacity: 1, x: 0 }}
  884 â”‚           transition={{ duration: 0.3 }}
  885 â”‚           className="relative z-10 h-full flex flex-col pt-16"
  886 â”‚         >
  887 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:887:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="887" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20justify-end%20mb-4%22%7D" className="flex items-center justify-end mb-4">
  888 â”‚             <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:888:12" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="888" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22text%22%3A%22Voltar%20ao%20in%C3%ADcio%22%2C%22className%22%3A%22px-3%20py-2%20text-sm%20text-gray-600%20hover%3Atext-gray-900%20dark%3Atext-gray-400%20dark%3Ahover%3Atext-white%20transition-colors%22%7D"
  889 â”‚               onClick={onResetFlow}
  890 â”‚               className="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white transition-colors"
  891 â”‚             >
  892 â”‚               Voltar ao inÃ­cio
  893 â”‚             </button>
  894 â”‚           </div>
  895 â”‚ 
  896 â”‚           {/* Interface de ConstruÃ§Ã£o */}
  897 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:897:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="897" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex-1%20overflow-hidden%22%7D" className="flex-1 overflow-hidden">
  898 â”‚             {console.log('ðŸŽ¯ CardDeConstrucao: Passando atividades para ConstructionInterface:', selectedActivities2)}
  899 â”‚             <ConstructionInterface data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:899:12" data-lov-name="ConstructionInterface"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="899" data-component-file="CardDeConstrucao.tsx" data-component-name="ConstructionInterface" data-component-content="%7B%7D" approvedActivities={selectedActivities2} />
  900 â”‚           </div>
  901 â”‚         </motion.div>
  902 â”‚       ) : (
  903 â”‚         <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:903:8" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="903" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22relative%20z-10%20h-full%20flex%20flex-col%20pt-16%22%7D"
  904 â”‚           className="relative z-10 h-full flex flex-col pt-16"
  905 â”‚           initial={{ y: 20, opacity: 0 }}
  906 â”‚           animate={{ y: 0, opacity: 1 }}
  907 â”‚           transition={{ delay: 0.2, duration: 0.5 }}
  908 â”‚         >
  909 â”‚           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:909:10" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="909" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22text-center%20mb-4%20sm%3Amb-6%22%7D" className="text-center mb-4 sm:mb-6"></div>
  910 â”‚ 
  911 â”‚           {step === "contextualization" ? (
  912 â”‚             <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:912:12" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="912" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22flex-1%20flex%20flex-col%20overflow-hidden%22%7D"
  913 â”‚               key="contextualization-content"
  914 â”‚               initial={{ opacity: 0, x: -20 }}
  915 â”‚               animate={{ opacity: 1, x: 0 }}
  916 â”‚               transition={{ duration: 0.3 }}
  917 â”‚               className="flex-1 flex flex-col overflow-hidden"
  918 â”‚             >
  919 â”‚               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:919:14" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="919" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex-1%20overflow-y-auto%20space-y-3%20sm%3Aspace-y-4%20mb-3%20sm%3Amb-4%20pr-1%20sm%3Apr-2%22%7D"
  920 â”‚                 className="flex-1 overflow-y-auto space-y-3 sm:space-y-4 mb-3 sm:mb-4 pr-1 sm:pr-2"
  921 â”‚                 style={{
  922 â”‚                   maxHeight: "calc(100% - 80px)",
  923 â”‚                   scrollbarWidth: "thin",
  924 â”‚                   scrollbarColor: "#FF6B00 rgba(255,107,0,0.1)",
  925 â”‚                 }}
  926 â”‚               >
  927 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:927:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="927" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
  928 â”‚                   <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:928:18" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="928" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%93%9A%20Quais%20mat%C3%A9rias%20e%20temas%20ser%C3%A3o%20trabalhados%3F%20*%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
  929 â”‚                     ðŸ“š Quais matÃ©rias e temas serÃ£o trabalhados? *
  930 â”‚                   </label>
  931 â”‚                   <textarea data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:931:18" data-lov-name="textarea"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="931" data-component-file="CardDeConstrucao.tsx" data-component-name="textarea" data-component-content="%7B%22placeholder%22%3A%22Descreva%20as%20mat%C3%A9rias%20e%20temas%20que%20voc%C3%AA%20quer%20estudar...%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%20text-sm%22%7D"
  932 â”‚                     value={formData.materias}
  933 â”‚                     onChange={(e) =>
  934 â”‚                       handleInputChange("materias", e.target.value)
  935 â”‚                     }
  936 â”‚                     className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400 text-sm"
  937 â”‚                     rows={2}
  938 â”‚                     placeholder="Descreva as matÃ©rias e temas que vocÃª quer estudar..."
  939 â”‚                   />
  940 â”‚                 </div>
  941 â”‚ 
  942 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:942:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="942" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
  943 â”‚                   <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:943:18" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="943" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%8E%AF%20Qual%20o%20p%C3%BAblico-alvo%3F%20*%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
  944 â”‚                     ðŸŽ¯ Qual o pÃºblico-alvo? *
  945 â”‚                   </label>
  946 â”‚                   <input data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:946:18" data-lov-name="input"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="946" data-component-file="CardDeConstrucao.tsx" data-component-name="input" data-component-content="%7B%22placeholder%22%3A%22Ex%3A%20Ensino%20M%C3%A9dio%2C%203%C2%BA%20ano%2C%20vestibular...%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%20text-sm%22%7D"
  947 â”‚                     type="text"
  948 â”‚                     value={formData.publicoAlvo}
  949 â”‚                     onChange={(e) =>
  950 â”‚                       handleInputChange("publicoAlvo", e.target.value)
  951 â”‚                     }
  952 â”‚                     className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400 text-sm"
  953 â”‚                     placeholder="Ex: Ensino MÃ©dio, 3Âº ano, vestibular..."
  954 â”‚                   />
  955 â”‚                 </div>
  956 â”‚ 
  957 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:957:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="957" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
  958 â”‚                   <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:958:18" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="958" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%E2%9A%A0%EF%B8%8F%20Quais%20restri%C3%A7%C3%B5es%20ou%20prefer%C3%AAncias%20espec%C3%ADficas%3F%20*%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
  959 â”‚                     âš ï¸ Quais restriÃ§Ãµes ou preferÃªncias especÃ­ficas? *
  960 â”‚                   </label>
  961 â”‚                   <textarea data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:961:18" data-lov-name="textarea"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="961" data-component-file="CardDeConstrucao.tsx" data-component-name="textarea" data-component-content="%7B%22placeholder%22%3A%22Descreva%20limita%C3%A7%C3%B5es%20de%20tempo%2C%20dificuldades%20espec%C3%ADficas%2C%20etc...%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%20text-sm%22%7D"
  962 â”‚                     value={formData.restricoes}
  963 â”‚                     onChange={(e) =>
  964 â”‚                       handleInputChange("restricoes", e.target.value)
  965 â”‚                     }
  966 â”‚                     className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400 text-sm"
  967 â”‚                     rows={2}
  968 â”‚                     placeholder="Descreva limitaÃ§Ãµes de tempo, dificuldades especÃ­ficas, etc..."
  969 â”‚                   />
  970 â”‚                 </div>
  971 â”‚ 
  972 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:972:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="972" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
  973 â”‚                   <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:973:18" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="973" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%93%85%20Per%C3%ADodo%20de%20entrega%20ou%20datas%20importantes%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
  974 â”‚                     ðŸ“… PerÃ­odo de entrega ou datas importantes
  975 â”‚                   </label>
  976 â”‚                   <input data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:976:18" data-lov-name="input"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="976" data-component-file="CardDeConstrucao.tsx" data-component-name="input" data-component-content="%7B%22placeholder%22%3A%22Ex%3A%20Prova%20em%202%20semanas%2C%20ENEM%20em%20novembro...%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%20text-sm%22%7D"
  977 â”‚                     type="text"
  978 â”‚                     value={formData.datasImportantes}
  979 â”‚                     onChange={(e) =>
  980 â”‚                       handleInputChange("datasImportantes", e.target.value)
  981 â”‚                     }
  982 â”‚                     className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400 text-sm"
  983 â”‚                     placeholder="Ex: Prova em 2 semanas, ENEM em novembro..."
  984 â”‚                   />
  985 â”‚                 </div>
  986 â”‚ 
  987 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:987:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="987" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
  988 â”‚                   <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:988:18" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="988" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%93%9D%20Outras%20observa%C3%A7%C3%B5es%20importantes%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
  989 â”‚                     ðŸ“ Outras observaÃ§Ãµes importantes
  990 â”‚                   </label>
  991 â”‚                   <textarea data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:991:18" data-lov-name="textarea"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="991" data-component-file="CardDeConstrucao.tsx" data-component-name="textarea" data-component-content="%7B%22placeholder%22%3A%22Informa%C3%A7%C3%B5es%20adicionais%20que%20podem%20ajudar...%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%20text-sm%22%7D"
  992 â”‚                     value={formData.observacoes}
  993 â”‚                     onChange={(e) =>
  994 â”‚                       handleInputChange("observacoes", e.target.value)
  995 â”‚                     }
  996 â”‚                     className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400 text-sm"
  997 â”‚                     rows={2}
  998 â”‚                     placeholder="InformaÃ§Ãµes adicionais que podem ajudar..."
  999 â”‚                   />
 1000 â”‚                 </div>
 1001 â”‚               </div>
 1002 â”‚ 
 1003 â”‚               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1003:14" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1003" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20justify-end%20pt-3%20sm%3Apt-4%20border-t%20border-gray-300%20dark%3Aborder-gray-700%22%7D" className="flex justify-end pt-3 sm:pt-4 border-t border-gray-300 dark:border-gray-700">
 1004 â”‚                 <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1004:16" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1004" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22px-4%20sm%3Apx-6%20py-2%20sm%3Apy-3%20bg-%5B%23FF6B00%5D%20hover%3Abg-%5B%23D65A00%5D%20text-white%20font-semibold%20rounded-xl%20transition-colors%20duration-200%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20text-sm%20sm%3Atext-base%22%7D"
 1005 â”‚                   onClick={handleSubmitContextualization}
 1006 â”‚                   disabled={!isContextualizationValid || isLoading}
 1007 â”‚                   className="px-4 sm:px-6 py-2 sm:py-3 bg-[#FF6B00] hover:bg-[#D65A00] text-white font-semibold rounded-xl transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"
 1008 â”‚                 >
 1009 â”‚                   {isLoading ? "Processando..." : "Gerar Plano de Aula"}
 1010 â”‚                 </button>
 1011 â”‚               </div>
 1012 â”‚             </motion.div>
 1013 â”‚           ) : (
 1014 â”‚             <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1014:12" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1014" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22flex-1%20flex%20flex-col%20overflow-hidden%22%7D"
 1015 â”‚               key="actionplan-content"
 1016 â”‚               initial={{ opacity: 0, x: 20 }}
 1017 â”‚               animate={{ opacity: 1, x: 0 }}
 1018 â”‚               transition={{ duration: 0.3 }}
 1019 â”‚               className="flex-1 flex flex-col overflow-hidden"
 1020 â”‚             >
 1021 â”‚               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1021:14" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1021" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-3%20sm%3Amb-4%22%7D" className="flex items-center justify-between mb-3 sm:mb-4">
 1022 â”‚                 <h3 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1022:16" data-lov-name="h3"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1022" data-component-file="CardDeConstrucao.tsx" data-component-name="h3" data-component-content="%7B%22className%22%3A%22text-base%20sm%3Atext-lg%20font-semibold%20text-gray-900%20dark%3Atext-white%22%7D" className="text-base sm:text-lg font-semibold text-gray-900 dark:text-white">
 1023 â”‚                   {showAddActivityInterface ? "Adicionar Atividade Manual" : "Atividades Sugeridas"}
 1024 â”‚                 </h3>
 1025 â”‚                 {!showAddActivityInterface && (
 1026 â”‚                   <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1026:18" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1026" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20gap-2%22%7D" className="flex items-center gap-2">
 1027 â”‚                     <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1027:20" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1027" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-9%20h-9%20flex%20items-center%20justify-center%20rounded-xl%20bg-gradient-to-br%20from-%5B%23FF6B00%5D%2F10%20to-%5B%23FF9248%5D%2F5%20hover%3Afrom-%5B%23FF6B00%5D%2F20%20hover%3Ato-%5B%23FF9248%5D%2F10%20border%20border-%5B%23FF6B00%5D%2F30%20hover%3Aborder-%5B%23FF6B00%5D%2F50%20transition-all%20duration-300%20shadow-sm%20hover%3Ashadow-md%22%7D"
 1028 â”‚                       onClick={() => setShowAddActivityInterface(true)}
 1029 â”‚                       className="w-9 h-9 flex items-center justify-center rounded-xl bg-gradient-to-br from-[#FF6B00]/10 to-[#FF9248]/5 hover:from-[#FF6B00]/20 hover:to-[#FF9248]/10 border border-[#FF6B00]/30 hover:border-[#FF6B00]/50 transition-all duration-300 shadow-sm hover:shadow-md"
 1030 â”‚                       title="Adicionar Atividade Manual"
 1031 â”‚                     >
 1032 â”‚                       <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1032:22" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1032" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20text-%5B%23FF6B00%5D%20transition-colors%20duration-200%22%7D" className="w-4 h-4 text-[#FF6B00] transition-colors duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 1033 â”‚                         <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1033:24" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1033" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4v16m8-8H4" />
 1034 â”‚                       </svg>
 1035 â”‚                     </button>
 1036 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1036:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1036" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22text%22%3A%22selecionada%22%2C%22className%22%3A%22bg-%5B%23FF6B00%5D%2F10%20text-%5B%23FF6B00%5D%20px-2%20sm%3Apx-3%20py-1%20rounded-full%20text-xs%20sm%3Atext-sm%20font-medium%22%7D" className="bg-[#FF6B00]/10 text-[#FF6B00] px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium">
 1037 â”‚                       {selectedActivities2.length} selecionada
 1038 â”‚                       {selectedActivities2.length !== 1 ? "s" : ""}
 1039 â”‚                       {selectedTrilhasCount > 0 && (
 1040 â”‚                         <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1040:24" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1040" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22(%20trilha%20)%22%2C%22className%22%3A%22ml-1%20text-orange-600%22%7D" className="ml-1 text-orange-600">
 1041 â”‚                           ({selectedTrilhasCount} trilha{selectedTrilhasCount !== 1 ? "s" : ""})
 1042 â”‚                         </span>
 1043 â”‚                       )}
 1044 â”‚                     </div>
 1045 â”‚                     <GridToggleComponent data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1045:20" data-lov-name="GridToggleComponent"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1045" data-component-file="CardDeConstrucao.tsx" data-component-name="GridToggleComponent" data-component-content="%7B%7D" 
 1046 â”‚                       viewMode={viewMode}
 1047 â”‚                       onToggle={() => setViewMode(viewMode === 'list' ? 'grid' : 'list')}
 1048 â”‚                     />
 1049 â”‚                     <FilterComponent data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1049:20" data-lov-name="FilterComponent"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1049" data-component-file="CardDeConstrucao.tsx" data-component-name="FilterComponent" data-component-content="%7B%7D" 
 1050 â”‚                       activities={getCombinedActivities()}
 1051 â”‚                       selectedActivities2={selectedActivities2}
 1052 â”‚                       onFilterApply={(filterType) => handleFilterApply(filterType)}
 1053 â”‚                     />
 1054 â”‚                   </div>
 1055 â”‚                 )}
 1056 â”‚               </div>
 1057 â”‚ 
 1058 â”‚               {showAddActivityInterface ? (
 1059 â”‚                 <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1059:16" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1059" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%22className%22%3A%22flex-1%20overflow-y-auto%20mb-3%20sm%3Amb-4%20pr-1%20sm%3Apr-2%22%7D"
 1060 â”‚                   className="flex-1 overflow-y-auto mb-3 sm:mb-4 pr-1 sm:pr-2"
 1061 â”‚                   initial={{ opacity: 0, x: 20 }}
 1062 â”‚                   animate={{ opacity: 1, x: 0 }}
 1063 â”‚                   transition={{ duration: 0.3 }}
 1064 â”‚                 >
 1065 â”‚                   <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1065:18" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1065" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22space-y-4%22%7D" className="space-y-4">
 1066 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1066:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1066" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
 1067 â”‚                       <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1067:22" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1067" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%93%9D%20T%C3%ADtulo%20da%20Atividade%20*%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
 1068 â”‚                         ðŸ“ TÃ­tulo da Atividade *
 1069 â”‚                       </label>
 1070 â”‚                       <input data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1070:22" data-lov-name="input"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1070" data-component-file="CardDeConstrucao.tsx" data-component-name="input" data-component-content="%7B%22placeholder%22%3A%22Ex%3A%20Lista%20de%20Exerc%C3%ADcios%20sobre%20Fun%C3%A7%C3%B5es%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%22%7D"
 1071 â”‚                         type="text"
 1072 â”‚                         value={manualActivityForm.title}
 1073 â”‚                         onChange={(e) => handleManualFormChange('title', e.target.value)}
 1074 â”‚                         className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400"
 1075 â”‚                         placeholder="Ex: Lista de ExercÃ­cios sobre FunÃ§Ãµes"
 1076 â”‚                         maxLength={100}
 1077 â”‚                       />
 1078 â”‚                     </div>
 1079 â”‚ 
 1080 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1080:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1080" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
 1081 â”‚                       <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1081:22" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1081" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%8E%AF%20Tipo%20de%20Atividade%20*%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
 1082 â”‚                         ðŸŽ¯ Tipo de Atividade *
 1083 â”‚                       </label>
 1084 â”‚                       <select data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1084:22" data-lov-name="select"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1084" data-component-file="CardDeConstrucao.tsx" data-component-name="select" data-component-content="%7B%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%22%7D"
 1085 â”‚                         value={manualActivityForm.typeId}
 1086 â”‚                         onChange={(e) => handleManualFormChange('typeId', e.target.value)}
 1087 â”‚                         className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm"
 1088 â”‚                       >
 1089 â”‚                         <option data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1089:24" data-lov-name="option"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1089" data-component-file="CardDeConstrucao.tsx" data-component-name="option" data-component-content="%7B%22text%22%3A%22Selecione%20o%20tipo%20de%20atividade...%22%7D" value="">Selecione o tipo de atividade...</option>
 1090 â”‚                         {schoolPowerActivities.map((activity) => (
 1091 â”‚                           <option data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1091:26" data-lov-name="option"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1091" data-component-file="CardDeConstrucao.tsx" data-component-name="option" data-component-content="%7B%7D" key={activity.id} value={activity.id}>
 1092 â”‚                             {activity.name}
 1093 â”‚                           </option>
 1094 â”‚                         ))}
 1095 â”‚                       </select>
 1096 â”‚                     </div>
 1097 â”‚ 
 1098 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1098:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1098" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D">
 1099 â”‚                       <label data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1099:22" data-lov-name="label"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1099" data-component-file="CardDeConstrucao.tsx" data-component-name="label" data-component-content="%7B%22text%22%3A%22%F0%9F%93%8B%20Descri%C3%A7%C3%A3o%20da%20Atividade%20*%22%2C%22className%22%3A%22block%20text-sm%20font-semibold%20text-gray-800%20dark%3Atext-white%20mb-2%22%7D" className="block text-sm font-semibold text-gray-800 dark:text-white mb-2">
 1100 â”‚                         ðŸ“‹ DescriÃ§Ã£o da Atividade *
 1101 â”‚                       </label>
 1102 â”‚                       <textarea data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1102:22" data-lov-name="textarea"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1102" data-component-file="CardDeConstrucao.tsx" data-component-name="textarea" data-component-content="%7B%22placeholder%22%3A%22Descreva%20detalhadamente%20o%20que%20voc%C3%AA%20quer%20que%20seja%20feito%20nesta%20atividade...%22%2C%22className%22%3A%22w-full%20p-2%20sm%3Ap-3%20border-2%20border-%5B%23FF6B00%5D%2F30%20dark%3Aborder-%5B%23FF6B00%5D%2F40%20bg-white%2F90%20dark%3Abg-gray-800%2F80%20text-gray-900%20dark%3Atext-white%20rounded-xl%20focus%3Aring-2%20focus%3Aring-%5B%23FF6B00%5D%20focus%3Aborder-%5B%23FF6B00%5D%20transition-all%20duration-200%20backdrop-blur-sm%20placeholder-gray-500%20dark%3Aplaceholder-gray-400%22%7D"
 1103 â”‚                         value={manualActivityForm.description}
 1104 â”‚                         onChange={(e) => handleManualFormChange('description', e.target.value)}
 1105 â”‚                         className="w-full p-2 sm:p-3 border-2 border-[#FF6B00]/30 dark:border-[#FF6B00]/40 bg-white/90 dark:bg-gray-800/80 text-gray-900 dark:text-white rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-[#FF6B00] transition-all duration-200 backdrop-blur-sm placeholder-gray-500 dark:placeholder-gray-400"
 1106 â”‚                         rows={4}
 1107 â”‚                         placeholder="Descreva detalhadamente o que vocÃª quer que seja feito nesta atividade..."
 1108 â”‚                         maxLength={500}
 1109 â”‚                       />
 1110 â”‚                       <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1110:22" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1110" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22text%22%3A%22%2F500%20caracteres%22%2C%22className%22%3A%22text-xs%20text-gray-500%20dark%3Atext-gray-400%20mt-1%22%7D" className="text-xs text-gray-500 dark:text-gray-400 mt-1">
 1111 â”‚                         {manualActivityForm.description.length}/500 caracteres
 1112 â”‚                       </div>
 1113 â”‚                     </div>
 1114 â”‚ 
 1115 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1115:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1115" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20gap-3%20pt-4%22%7D" className="flex gap-3 pt-4">
 1116 â”‚                       <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1116:22" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1116" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22text%22%3A%22Cancelar%22%2C%22className%22%3A%22flex-1%20px-4%20py-3%20text-gray-600%20dark%3Atext-gray-300%20hover%3Atext-gray-900%20dark%3Ahover%3Atext-white%20border%20border-gray-400%20dark%3Aborder-gray-600%20rounded-xl%20hover%3Abg-gray-100%20dark%3Ahover%3Abg-gray-800%20transition-colors%20duration-200%22%7D"
 1117 â”‚                         onClick={() => setShowAddActivityInterface(false)}
 1118 â”‚                         className="flex-1 px-4 py-3 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white border border-gray-400 dark:border-gray-600 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200"
 1119 â”‚                       >
 1120 â”‚                         Cancelar
 1121 â”‚                       </button>
 1122 â”‚                       <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1122:22" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1122" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22text%22%3A%22Adicionar%20Atividade%22%2C%22className%22%3A%22flex-1%20px-4%20py-3%20bg-%5B%23FF6B00%5D%20hover%3Abg-%5B%23D65A00%5D%20text-white%20font-semibold%20rounded-xl%20transition-colors%20duration-200%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20flex%20items-center%20justify-center%20gap-2%22%7D"
 1123 â”‚                         onClick={handleAddManualActivity}
 1124 â”‚                         disabled={!manualActivityForm.title.trim() || !manualActivityForm.typeId || !manualActivityForm.description.trim()}
 1125 â”‚                         className="flex-1 px-4 py-3 bg-[#FF6B00] hover:bg-[#D65A00] text-white font-semibold rounded-xl transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
 1126 â”‚                       >
 1127 â”‚                         <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1127:24" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1127" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-5%20h-5%22%7D" className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 1128 â”‚                           <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1128:26" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1128" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4v16m8-8H4" />
 1129 â”‚                         </svg>
 1130 â”‚                         Adicionar Atividade
 1131 â”‚                       </button>
 1132 â”‚                     </div>
 1133 â”‚                   </div>
 1134 â”‚                 </motion.div>
 1135 â”‚               ) : (
 1136 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1136:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1136" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D"
 1137 â”‚                   className={`flex-1 overflow-y-auto mb-3 sm:mb-4 pr-1 sm:pr-2 ${
 1138 â”‚                     viewMode === 'grid' 
 1139 â”‚                       ? 'grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 auto-rows-min' 
 1140 â”‚                       : 'space-y-2 sm:space-y-3'
 1141 â”‚                   }`}
 1142 â”‚                   style={{
 1143 â”‚                     maxHeight: "calc(100% - 80px)",
 1144 â”‚                     scrollbarWidth: "thin",
 1145 â”‚                     scrollbarColor: "#FF6B00 rgba(255,107,0,0.1)",
 1146 â”‚                   }}
 1147 â”‚                 >
 1148 â”‚                   {(filterState === 'selected' 
 1149 â”‚                     ? selectedActivities2 
 1150 â”‚                     : getCombinedActivities()
 1151 â”‚                   )?.map((activity, index) => {
 1152 â”‚                     const isSelected = selectedActivities2.some(
 1153 â”‚                       (item) => item.id === activity.id,
 1154 â”‚                     );
 1155 â”‚ 
 1156 â”‚                     const badgeProps = getTrilhasBadgeProps(activity.id);
 1157 â”‚ 
 1158 â”‚                     return (
 1159 â”‚                       <motion.div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1159:22" data-lov-name="motion.div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1159" data-component-file="CardDeConstrucao.tsx" data-component-name="motion.div" data-component-content="%7B%7D"
 1160 â”‚                         key={activity.id}
 1161 â”‚                         className={`relative p-6 border-2 transition-all duration-300 cursor-pointer ${
 1162 â”‚                           viewMode === 'grid' ? 'rounded-[32px]' : 'rounded-[32px] mb-4'
 1163 â”‚                         } ${
 1164 â”‚                           isSelected
 1165 â”‚                             ? 'border-[#FF6B00] bg-[#FF6B00]/5 dark:bg-[#FF6B00]/10 shadow-lg transform scale-[1.02]'
 1166 â”‚                             : 'border-gray-200 dark:border-gray-700 bg-white/50 dark:bg-gray-800/50 hover:border-[#FF6B00]/50 hover:shadow-md'
 1167 â”‚                         }`}
 1168 â”‚                         initial={{ opacity: 0, y: 20 }}
 1169 â”‚                         animate={{ opacity: 1, y: 0 }}
 1170 â”‚                         transition={{ duration: 0.3, delay: index * 0.05 }}
 1171 â”‚                         onClick={() => handleActivityToggle(activity)}
 1172 â”‚                       >
 1173 â”‚                         {/* Badge Manual - para atividades manuais */}
 1174 â”‚                         {activity.isManual && (
 1175 â”‚                           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1175:26" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1175" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D" className={`absolute top-4 z-20 ${badgeProps.showBadge ? 'right-[131px]' : 'right-4'}`}>
 1176 â”‚                             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1176:28" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1176" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20gap-3%20px-4%20py-2%20border-2%20border-purple-500%20rounded-full%20bg-purple-500%2F10%20hover%3Abg-purple-500%2F15%20hover%3Aborder-purple-600%20transition-all%20duration-300%20cursor-default%20hover%3Ascale-105%22%7D" className="flex items-center gap-3 px-4 py-2 border-2 border-purple-500 rounded-full bg-purple-500/10 hover:bg-purple-500/15 hover:border-purple-600 transition-all duration-300 cursor-default hover:scale-105">
 1177 â”‚                               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1177:30" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1177" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22w-2%20h-6%20min-w-2%20min-h-6%20flex%20items-center%20justify-center%20relative%20flex-shrink-0%22%7D" className="w-2 h-6 min-w-2 min-h-6 flex items-center justify-center relative flex-shrink-0">
 1178 â”‚                                 <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1178:32" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1178" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-5%20h-5%20text-purple-600%20transition-all%20duration-300%20relative%20z-10%22%7D" className="w-5 h-5 text-purple-600 transition-all duration-300 relative z-10" fill="currentColor" viewBox="0 0 20 20">
 1179 â”‚                                   <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1179:34" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1179" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
 1180 â”‚                                 </svg>
 1181 â”‚                               </div>
 1182 â”‚                               <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1182:30" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1182" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22Manual%22%2C%22className%22%3A%22text-sm%20font-bold%20text-purple-600%20whitespace-nowrap%20transition-all%20duration-300%22%7D" className="text-sm font-bold text-purple-600 whitespace-nowrap transition-all duration-300">
 1183 â”‚                                 Manual
 1184 â”‚                               </span>
 1185 â”‚                             </div>
 1186 â”‚                           </div>
 1187 â”‚                         )}
 1188 â”‚ 
 1189 â”‚                         {/* Badge Trilhas */}
 1190 â”‚                         {badgeProps.showBadge && (
 1191 â”‚                           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1191:26" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1191" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22absolute%20top-4%20right-4%20z-20%22%7D" className="absolute top-4 right-4 z-20">
 1192 â”‚                             <TrilhasBadge data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1192:28" data-lov-name="TrilhasBadge"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1192" data-component-file="CardDeConstrucao.tsx" data-component-name="TrilhasBadge" data-component-content="%7B%7D" />
 1193 â”‚                           </div>
 1194 â”‚                         )}
 1195 â”‚ 
 1196 â”‚                         <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1196:24" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1196" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-start%20gap-4%22%7D" className="flex items-start gap-4">
 1197 â”‚                           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1197:26" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1197" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex-1%22%7D" className="flex-1">
 1198 â”‚                             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1198:28" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1198" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20items-center%20gap-3%20mb-2%22%7D" className="flex items-center gap-3 mb-2">
 1199 â”‚                               <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1199:30" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1199" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%7D" 
 1200 â”‚                                 className={`icon-container ${isSelected ? 'active' : ''}`}
 1201 â”‚                                 onClick={(e) => {
 1202 â”‚                                   e.stopPropagation();
 1203 â”‚                                   handleActivityToggle(activity);
 1204 â”‚                                 }}
 1205 â”‚                                 style={{
 1206 â”‚                                   width: '40px',
 1207 â”‚                                   height: '40px',
 1208 â”‚                                   minWidth: '40px',
 1209 â”‚                                   minHeight: '40px',
 1210 â”‚                                   borderRadius: '14px',
 1211 â”‚                                   display: 'flex',
 1212 â”‚                                   alignItems: 'center',
 1213 â”‚                                   justifyContent: 'center',
 1214 â”‚                                   background: isSelected 
 1215 â”‚                                     ? 'linear-gradient(135deg, #FF6E06, #FF8A39)' 
 1216 â”‚                                     : 'rgba(255, 110, 6, 0.1)',
 1217 â”‚                                   transition: 'all 0.3s ease',
 1218 â”‚                                   position: 'relative',
 1219 â”‚                                   overflow: 'hidden',
 1220 â”‚                                   cursor: 'pointer',
 1221 â”‚                                   boxShadow: isSelected 
 1222 â”‚                                     ? '0 6px 12px rgba(255, 110, 6, 0.3)' 
 1223 â”‚                                     : 'none',
 1224 â”‚                                   transform: isSelected ? 'scale(1.05)' : 'scale(1)'
 1225 â”‚                                 }}
 1226 â”‚                               >
 1227 â”‚                                 {isSelected ? (
 1228 â”‚                                   <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1228:34" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1228" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-5%20h-5%20text-white%20transition-all%20duration-300%20relative%20z-10%22%7D" 
 1229 â”‚                                     className="w-5 h-5 text-white transition-all duration-300 relative z-10" 
 1230 â”‚                                     fill="currentColor" 
 1231 â”‚                                     viewBox="0 0 20 20"
 1232 â”‚                                   >
 1233 â”‚                                     <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1233:36" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1233" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" 
 1234 â”‚                                       fillRule="evenodd" 
 1235 â”‚                                       d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" 
 1236 â”‚                                       clipRule="evenodd"/>
 1237 â”‚                                   </svg>
 1238 â”‚                                 ) : (
 1239 â”‚                                   React.createElement(getIconByActivityId(activity.id), {
 1240 â”‚                                     className: `w-5 h-5 transition-all duration-300 relative z-10`,
 1241 â”‚                                     style: {
 1242 â”‚                                       color: '#FF6E06'
 1243 â”‚                                     }
 1244 â”‚                                   })
 1245 â”‚                                 )}
 1246 â”‚                                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1246:32" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1246" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22icon-glow%22%7D" 
 1247 â”‚                                   className="icon-glow"
 1248 â”‚                                   style={{
 1249 â”‚                                     position: 'absolute',
 1250 â”‚                                     top: '50%',
 1251 â”‚                                     left: '50%',
 1252 â”‚                                     width: '20px',
 1253 â”‚                                     height: '20px',
 1254 â”‚                                     background: 'radial-gradient(circle, rgba(255, 110, 6, 0.5), transparent)',
 1255 â”‚                                     borderRadius: '50%',
 1256 â”‚                                     transform: isSelected 
 1257 â”‚                                       ? 'translate(-50%, -50%) scale(2.2)' 
 1258 â”‚                                       : 'translate(-50%, -50%) scale(0)',
 1259 â”‚                                     transition: 'transform 0.3s ease'
 1260 â”‚                                   }}
 1261 â”‚                                 />
 1262 â”‚                               </div>
 1263 â”‚ 
 1264 â”‚                               <h3 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1264:30" data-lov-name="h3"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1264" data-component-file="CardDeConstrucao.tsx" data-component-name="h3" data-component-content="%7B%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%20dark%3Atext-white%20line-clamp-2%20flex-1%20pr-8%22%7D" className="text-lg font-semibold text-gray-900 dark:text-white line-clamp-2 flex-1 pr-8">
 1265 â”‚                                 {activity.title}
 1266 â”‚                               </h3>
 1267 â”‚                             </div>
 1268 â”‚ 
 1269 â”‚                             <p data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1269:28" data-lov-name="p"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1269" data-component-file="CardDeConstrucao.tsx" data-component-name="p" data-component-content="%7B%22className%22%3A%22text-gray-600%20dark%3Atext-gray-400%20leading-relaxed%20line-clamp-3%20mb-3%22%7D" className="text-gray-600 dark:text-gray-400 leading-relaxed line-clamp-3 mb-3">
 1270 â”‚                               {activity.description}
 1271 â”‚                             </p>
 1272 â”‚ 
 1273 â”‚                             <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1273:28" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1273" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22mt-2%22%7D" className="mt-2">
 1274 â”‚                               <span data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1274:30" data-lov-name="span"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1274" data-component-file="CardDeConstrucao.tsx" data-component-name="span" data-component-content="%7B%22text%22%3A%22ID%3A%22%2C%22className%22%3A%22text-xs%20px-2%20py-1%20bg-gray-100%20dark%3Abg-gray-800%20text-gray-500%20dark%3Atext-gray-400%20rounded%22%7D" className="text-xs px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 rounded">
 1275 â”‚                                 ID: {activity.id}
 1276 â”‚                               </span>
 1277 â”‚                             </div>
 1278 â”‚                           </div>
 1279 â”‚                         </div>
 1280 â”‚ 
 1281 â”‚                         {isSelected && (
 1282 â”‚                           <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1282:26" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1282" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22absolute%20inset-0%20rounded-%5B32px%5D%20border-2%20border-%5B%23FF6B00%5D%20animate-pulse%20opacity-50%20pointer-events-none%22%7D" className="absolute inset-0 rounded-[32px] border-2 border-[#FF6B00] animate-pulse opacity-50 pointer-events-none"></div>
 1283 â”‚                         )}
 1284 â”‚                       </motion.div>
 1285 â”‚                     );
 1286 â”‚                   })}
 1287 â”‚ 
 1288 â”‚                   {filterState === 'selected' && selectedActivities2.length === 0 && (
 1289 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1289:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1289" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%20py-12%20text-center%22%7D" className="flex flex-col items-center justify-center py-12 text-center">
 1290 â”‚                       <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1290:22" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1290" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22w-16%20h-16%20bg-gray-100%20dark%3Abg-gray-800%20rounded-full%20flex%20items-center%20justify-center%20mb-4%22%7D" className="w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4">
 1291 â”‚                         <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1291:24" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1291" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-8%20h-8%20text-gray-400%22%7D" className="w-8 h-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
 1292 â”‚                           <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1292:26" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1292" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
 1293 â”‚                         </svg>
 1294 â”‚                       </div>
 1295 â”‚                       <h3 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1295:22" data-lov-name="h3"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1295" data-component-file="CardDeConstrucao.tsx" data-component-name="h3" data-component-content="%7B%22text%22%3A%22Nenhuma%20atividade%20selecionada%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%20dark%3Atext-white%20mb-2%22%7D" className="text-lg font-semibold text-gray-900 dark:text-white mb-2">
 1296 â”‚                         Nenhuma atividade selecionada
 1297 â”‚                       </h3>
 1298 â”‚                       <p data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1298:22" data-lov-name="p"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1298" data-component-file="CardDeConstrucao.tsx" data-component-name="p" data-component-content="%7B%22text%22%3A%22Selecione%20algumas%20atividades%20primeiro%20para%20v%C3%AA-las%20aqui%22%2C%22className%22%3A%22text-sm%20text-gray-500%20dark%3Atext-gray-400%20max-w-xs%22%7D" className="text-sm text-gray-500 dark:text-gray-400 max-w-xs">
 1299 â”‚                         Selecione algumas atividades primeiro para vÃª-las aqui
 1300 â”‚                       </p>
 1301 â”‚                     </div>
 1302 â”‚                   )}
 1303 â”‚ 
 1304 â”‚                   {getCombinedActivities().length === 0 && (
 1305 â”‚                     <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1305:20" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1305" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20flex-col%20items-center%20justify-center%20py-12%20text-center%22%7D" className="flex flex-col items-center justify-center py-12 text-center">
 1306 â”‚                       <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1306:22" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1306" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22w-16%20h-16%20bg-gray-100%20dark%3Abg-gray-800%20rounded-full%20flex%20items-center%20justify-center%20mb-4%22%7D" className="w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mb-4">
 1307 â”‚                         <svg data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1307:24" data-lov-name="svg"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1307" data-component-file="CardDeConstrucao.tsx" data-component-name="svg" data-component-content="%7B%22className%22%3A%22w-8%20h-8%20text-gray-400%22%7D" className="w-8 h-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
 1308 â”‚                           <path data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1308:26" data-lov-name="path"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1308" data-component-file="CardDeConstrucao.tsx" data-component-name="path" data-component-content="%7B%7D" strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 4v16m8-8H4" />
 1309 â”‚                         </svg>
 1310 â”‚                       </div>
 1311 â”‚                       <h3 data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1311:22" data-lov-name="h3"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1311" data-component-file="CardDeConstrucao.tsx" data-component-name="h3" data-component-content="%7B%22text%22%3A%22Nenhuma%20atividade%20dispon%C3%ADvel%22%2C%22className%22%3A%22text-lg%20font-semibold%20text-gray-900%20dark%3Atext-white%20mb-2%22%7D" className="text-lg font-semibold text-gray-900 dark:text-white mb-2">
 1312 â”‚                         Nenhuma atividade disponÃ­vel
 1313 â”‚                       </h3>
 1314 â”‚                       <p data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1314:22" data-lov-name="p"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1314" data-component-file="CardDeConstrucao.tsx" data-component-name="p" data-component-content="%7B%22text%22%3A%22Adicione%20atividades%20manuais%20ou%20aguarde%20as%20sugest%C3%B5es%20da%20IA%22%2C%22className%22%3A%22text-sm%20text-gray-500%20dark%3Atext-gray-400%20max-w-xs%22%7D" className="text-sm text-gray-500 dark:text-gray-400 max-w-xs">
 1315 â”‚                         Adicione atividades manuais ou aguarde as sugestÃµes da IA
 1316 â”‚                       </p>
 1317 â”‚                     </div>
 1318 â”‚                   )}
 1319 â”‚                 </div>
 1320 â”‚               )}
 1321 â”‚ 
 1322 â”‚               {!showAddActivityInterface && (
 1323 â”‚                 <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1323:16" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1323" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22flex%20justify-end%20pt-3%20sm%3Apt-4%20border-t%20border-gray-300%20dark%3Aborder-gray-700%22%7D" className="flex justify-end pt-3 sm:pt-4 border-t border-gray-300 dark:border-gray-700">
 1324 â”‚                   <Button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1324:18" data-lov-name="Button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1324" data-component-file="CardDeConstrucao.tsx" data-component-name="Button" data-component-content="%7B%22className%22%3A%22px-4%20sm%3Apx-6%20py-2%20sm%3Apy-3%20bg-%5B%23FF6B00%5D%20hover%3Abg-%5B%23D65A00%5D%20text-white%20font-semibold%20rounded-xl%20transition-colors%20duration-200%20disabled%3Aopacity-50%20disabled%3Acursor-not-allowed%20flex%20items-center%20gap-2%20text-sm%20sm%3Atext-base%22%7D"
 1325 â”‚                     onClick={handleApproveActionPlan}
 1326 â”‚                     disabled={selectedActivities2.length === 0 || isLoading}
 1327 â”‚                     className="px-4 sm:px-6 py-2 sm:py-3 bg-[#FF6B00] hover:bg-[#D65A00] text-white font-semibold rounded-xl transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-sm sm:text-base"
 1328 â”‚                   >
 1329 â”‚                     <Target data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1329:20" data-lov-name="Target"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1329" data-component-file="CardDeConstrucao.tsx" data-component-name="Target" data-component-content="%7B%22className%22%3A%22w-4%20h-4%20sm%3Aw-5%20sm%3Ah-5%22%7D" className="w-4 h-4 sm:w-5 sm:h-5" />
 1330 â”‚                     {isLoading
 1331 â”‚                       ? "Processando..."
 1332 â”‚                       : `Aprovar Plano (${selectedActivities2.length})`}
 1333 â”‚                   </Button>
 1334 â”‚                 </div>
 1335 â”‚               )}
 1336 â”‚             </motion.div>
 1337 â”‚           )}
 1338 â”‚         </motion.div>
 1339 â”‚       )}
 1340 â”‚ 
 1341 â”‚       {/* Debug Panel para verificar sistema de Trilhas */}
 1342 â”‚       {actionPlan && (
 1343 â”‚         <TrilhasDebugPanel data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1343:8" data-lov-name="TrilhasDebugPanel"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1343" data-component-file="CardDeConstrucao.tsx" data-component-name="TrilhasDebugPanel" data-component-content="%7B%7D" 
 1344 â”‚           activities={actionPlan.map(activity => ({ 
 1345 â”‚             id: activity.id, 
 1346 â”‚             title: activity.title 
 1347 â”‚           }))}
 1348 â”‚           isVisible={showTrilhasDebug}
 1349 â”‚         />
 1350 â”‚       )}
 1351 â”‚ 
 1352 â”‚       {/* BotÃ£o para toggle do debug (sÃ³ visÃ­vel em desenvolvimento) */}
 1353 â”‚       {process.env.NODE_ENV === 'development' && actionPlan && (
 1354 â”‚         <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:1354:8" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="1354" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22fixed%20bottom-4%20left-4%20z-40%20bg-blue-500%20text-white%20px-3%20py-2%20rounded-lg%20text-xs%20font-medium%20shadow-lg%20hover%3Abg-blue-600%20transition-colors%22%7D"
 1355 â”‚           onClick={() => setShowTrilhasDebug(!showTrilhasDebug)}
 1356 â”‚           className="fixed bottom-4 left-4 z-40 bg-blue-500 text-white px-3 py-2 rounded-lg text-xs font-medium shadow-lg hover:bg-blue-600 transition-colors"
 1357 â”‚         >
 1358 â”‚           {showTrilhasDebug ? 'ðŸ” Fechar Debug' : 'ðŸ” Debug Trilhas'}
 1359 â”‚         </button>
 1360 â”‚       )}
 1361 â”‚     </motion.div>
 1362 â”‚   );
 1363 â”‚ }
 1364 â”‚ 
 1365 â”‚ 
 1366 â”‚ 
 1367 â”‚ import {
 1368 â”‚   Dialog,
 1369 â”‚   DialogContent,
 1370 â”‚   DialogDescription,
 1371 â”‚   DialogHeader,
 1372 â”‚   DialogTitle,
 1373 â”‚   DialogTrigger,
 1374 â”‚ } from "@/components/ui/dialog";
 1375 â”‚ import { Settings } from "lucide-react";
 1376 â”‚ import { EditMaterialsInterface } from "./EditMaterialsInterface";
 1377 â”‚ 
 1378 â”‚ interface ConstructionInterfaceProps {
 1379 â”‚     approvedActivities: ActionPlanItem[];
 1380 â”‚ }
 1381 â”‚ 
 1382 â”‚ export function ConstructionInterface({ approvedActivities }: ConstructionInterfaceProps) {
      Â·                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      Â·                           â•°â”€â”€ `ConstructionInterface` redefined here
 1383 â”‚     const [modalStates, setModalStates] = useState<{ [activityId: string]: boolean }>({});
 1384 â”‚     const [selectedActivity, setSelectedActivity] = useState<ActionPlanItem | null>(null);
      â•°â”€â”€â”€â”€
/home/runner/workspace/src/features/schoolpower/construction/CardDeConstrucao.tsx:46:1
389|        <div data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:389:6" data-lov-name="div"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="389" data-component-file="CardDeConstrucao.tsx" data-component-name="div" data-component-content="%7B%22className%22%3A%22relative%22%7D" className="relative" ref={filterRef}>
390|          <button data-lov-id="src/features/schoolpower/construction/CardDeConstrucao.tsx:390:8" data-lov-name="button"  data-component-path="src/features/schoolpower/construction/CardDeConstrucao.tsx" data-component-line="390" data-component-file="CardDeConstrucao.tsx" data-component-name="button" data-component-content="%7B%22className%22%3A%22w-9%20h-9%20flex%20items-center%20justify-center%20rounded-xl%20bg-gradient-to-br%20from-gray-50%20to-gray-100%20dark%3Afrom-gray-800%20dark%3Ato-gray-750%20hover%3Afrom-%5B%23FF6B00%5D%2F5%20hover%3Ato-%5B%23FF9248%5D%2F5%20dark%3Ahover%3Afrom-%5B%23FF6B00%5D%2F10%20dark%3Ahover%3Ato-%5B%23FF9248%5D%2F10%20border%20border-gray-200%20dark%3Aborder-gray-600%20hover%3Aborder-%5B%23FF6B00%5D%2F30%20transition-all%20duration-300%20shadow-sm%20hover%3Ashadow-md%22%7D"
391|            onClick={() => setIsFilterOpen(!isFilterOpen)}
   |                                 ^
392|            className="w-9 h-9 flex items-center justify-center rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-750 hover:from-[#FF6B00]/5 hover:to-[#FF9248]/5 dark:hover:from-[#FF6B00]/10 dark:hover:to-[#FF9248]/10 border border-gray-200 dark:border-gray-600 hover:border-[#FF6B00]/30 transition-all duration-300 shadow-sm hover:shadow-md"
393|            title="Filtros e AÃ§Ãµes"