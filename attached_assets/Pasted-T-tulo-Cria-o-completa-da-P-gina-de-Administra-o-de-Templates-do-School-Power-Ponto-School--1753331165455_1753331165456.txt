TÃ­tulo: CriaÃ§Ã£o completa da PÃ¡gina de AdministraÃ§Ã£o de Templates do School Power (Ponto. School)

ğŸ¯ Objetivo
Construir a pÃ¡gina de administraÃ§Ã£o interna da Ponto. School com acesso exclusivo via URL:

bash
Copiar
Editar
(Link padrÃ£o da plataforma)/adimin/matriz
Ao acessar este link no navegador:
âœ… Aparece pÃ¡gina de login integrada ao Supabase Auth (jÃ¡ conectado na plataforma).
âœ… O login serÃ¡ feito usando as credenciais existentes dos usuÃ¡rios jÃ¡ cadastrados na plataforma.
âœ… ApÃ³s login, o usuÃ¡rio Ã© redirecionado automaticamente para a interface da seÃ§Ã£o de AdministraÃ§Ã£o, NÃƒO exibindo o restante da plataforma.

A pÃ¡gina servirÃ¡ exclusivamente para:

âœ… Gerenciar templates de atividades por ID (jÃ¡ definidos em src/features/schoolpower/data/schoolPowerActivities.json).
âœ… Editar, publicar e versionar templates.
âœ… Selecionar a IA que serÃ¡ utilizada em cada template (Gemini ou outra).
âœ… Visualizar atividades geradas automaticamente a partir dos templates.
âœ… Gerar atividades automaticamente usando a IA Gemini, preenchendo os campos necessÃ¡rios.
âœ… Publicar atividades geradas na interface de â€œConstruÃ§Ã£o de Atividadesâ€ do School Power automaticamente.
âœ… Controlar a visualizaÃ§Ã£o do progresso e status de publicaÃ§Ã£o.

ğŸ—‚ï¸ Estrutura e OrganizaÃ§Ã£o
1ï¸âƒ£ Acesso Protegido:
A pÃ¡gina estarÃ¡ disponÃ­vel em:

bash
Copiar
Editar
(link padrÃ£o da Ponto. School)/adimin/matriz
Ao acessar:

Exibir pÃ¡gina de login integrada ao Supabase.

Login utilizando os mesmos usuÃ¡rios cadastrados na Ponto. School.

ApÃ³s login, renderizar apenas a interface de administraÃ§Ã£o, sem carregar outros componentes da Ponto. School.

Se nÃ£o autenticado, redirecionar para login.

2ï¸âƒ£ OrganizaÃ§Ã£o no Banco (Supabase)
âœ… Todos os IDs e nomes presentes em schoolPowerActivities.json jÃ¡ estarÃ£o armazenados no Supabase na tabela:

nginx
Copiar
Editar
school_power_templates
com os campos:

id: string (ID do template, conforme o JSON).

name: string (nome da atividade).

status: string (â€œdraftâ€, â€œpublishedâ€).

ia_provider: string (â€œGeminiâ€, â€œOpenAIâ€, etc.).

fields: jsonb (campos configurÃ¡veis de cada template).

last_generated_preview: jsonb (atividade gerada por Ãºltimo).

created_at / updated_at.

âœ… Caso um novo ID seja adicionado ao JSON, serÃ¡ automaticamente inserido no Supabase.
âœ… Se um ID for removido do JSON, serÃ¡ removido do Supabase.
âœ… SincronizaÃ§Ã£o bidirecional ativa permanentemente.

3ï¸âƒ£ Interface Visual
âœ… Design consistente com o branding da Ponto. School (tema dark com laranja como cor de aÃ§Ã£o).
âœ… Layout responsivo para desktop e tablet.
âœ… Menu lateral fixo com apenas 1 item: â€œTemplatesâ€.

Ãrea Principal:
Exibir grid de mini-cards, cada card representando um template de atividade vinculado ao ID do JSON.

Cada mini-card exibe:

Nome da Atividade.

ID.

Status (Draft/Published).

IA configurada.

BotÃ£o â€œEditar Templateâ€.

4ï¸âƒ£ Interface de EdiÃ§Ã£o do Template (ao clicar no card)
âœ… Tela dividida em duas colunas:

Coluna Esquerda: ConfiguraÃ§Ã£o

Campos dinÃ¢micos, especÃ­ficos para cada tipo de atividade (ex: nÃºmero de questÃµes, tÃ³picos, instruÃ§Ãµes, nÃ­vel de dificuldade).

SeleÃ§Ã£o da IA que irÃ¡ gerar a atividade.

BotÃ£o â€œGerar Atividadeâ€ (envia os dados para a IA Gemini).

Coluna Direita: Preview

VisualizaÃ§Ã£o ao vivo da atividade gerada pela IA Gemini.

Status de carregamento com loader enquanto gera.

BotÃ£o â€œPublicar Atividadeâ€.

5ï¸âƒ£ Funcionalidades Funcionais e Integradas
âœ… AutenticaÃ§Ã£o (Supabase Auth).
âœ… Leitura e sincronizaÃ§Ã£o automÃ¡tica de schoolPowerActivities.json.
âœ… Armazenamento de configuraÃ§Ãµes de cada template no Supabase.
âœ… IntegraÃ§Ã£o com IA Gemini para geraÃ§Ã£o automÃ¡tica das atividades usando os campos configurados.
âœ… PublicaÃ§Ã£o automÃ¡tica na interface de â€œConstruÃ§Ã£o de Atividadesâ€ do School Power.
âœ… VisualizaÃ§Ã£o do progresso e status de geraÃ§Ã£o.

ğŸ› ï¸ Arquivos e Estrutura TÃ©cnica a serem criados/modificados
swift
Copiar
Editar
/src/pages/adimin/matriz.tsx                      -> PÃ¡gina principal de administraÃ§Ã£o.
/src/features/admin/templates/index.tsx           -> Grade de mini-cards.
/src/features/admin/templates/TemplateCard.tsx    -> Componente do mini-card.
/src/features/admin/templates/TemplateEditor.tsx  -> Editor individual de template.
/src/features/admin/templates/hooks/useTemplates.ts -> Hook de controle.
/src/features/admin/templates/api/                -> API interna Next para operaÃ§Ãµes nos templates.
/src/features/schoolpower/data/schoolPowerActivities.json -> JÃ¡ existente, conectado.
/src/features/schoolpower/construction/ConstructionInterface.tsx -> Para receber atividades geradas.
âš¡ Fluxo Real do Sistema
1ï¸âƒ£ Admin acessa: (site)/adimin/matriz.
2ï¸âƒ£ Login via Supabase.
3ï¸âƒ£ PÃ¡gina de administraÃ§Ã£o carrega:

Mostra todos os templates vinculados ao JSON.

Permite editar configuraÃ§Ãµes.

Permite gerar atividades via IA Gemini.

Permite publicar diretamente no School Power.
4ï¸âƒ£ As atividades geradas aparecem automaticamente para os usuÃ¡rios na interface de â€œConstruÃ§Ã£o de Atividadesâ€, jÃ¡ personalizadas e prontas para interaÃ§Ã£o.
5ï¸âƒ£ Se o admin adicionar um novo ID no JSON, o sistema cria automaticamente um mini-card na administraÃ§Ã£o.
6ï¸âƒ£ Se o admin remover um ID no JSON, o card correspondente Ã© removido.
7ï¸âƒ£ Todos os dados ficam persistidos no Supabase de forma consistente.

ğŸ›¡ï¸ SeguranÃ§a
âœ… Acesso restrito a usuÃ¡rios autenticados Supabase.
âœ… NÃ£o acessÃ­vel publicamente sem login.
âœ… PÃ¡gina de administraÃ§Ã£o Ã© Ãºnica para todos os usuÃ¡rios (nÃ£o individualizada), sendo a central de controle da plataforma.

ğŸš€ Pronto para produÃ§Ã£o
âœ… PÃ¡gina leve e otimizada.
âœ… Sem dados fictÃ­cios; os administradores criarÃ£o e publicarÃ£o os templates reais.
âœ… IntegraÃ§Ã£o 100% funcional com School Power e Supabase.
âœ… IA Gemini conectada para geraÃ§Ã£o automÃ¡tica de atividades.

âœ… AÃ§Ã£o imediata
Comece imediatamente a construÃ§Ã£o completa dessa pÃ¡gina de administraÃ§Ã£o de templates, criando toda a estrutura, interfaces, lÃ³gica de sincronizaÃ§Ã£o, APIs e integraÃ§Ãµes solicitadas neste prompt, sem dependÃªncias externas, pronta para funcionamento real.