<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/images/ponto-school-logo.png"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google" content="notranslate" />
    <title>Ponto.School</title>
    <link
      rel="preload"
      href="/images/ponto-school-logo.png"
      as="image"
      fetchpriority="high"
      crossorigin="anonymous"
    />
    <style>
      .logo-fallback {
        font-family:
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          sans-serif;
        font-weight: bold;
        font-size: 1.5rem;
      }
      .logo-fallback span.orange {
        color: #ff6b00;
        font-size: 1.8rem;
      }
      .logo-fallback span.blue {
        color: #0d00f5;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // Script para inicializar a aplicação e preparar o modo offline
      document.addEventListener('DOMContentLoaded', function() {
        console.log("Iniciando aplicação...");
        // Configurar modo offline caso necessário
        if (localStorage.getItem('isOfflineMode') !== 'true' && localStorage.getItem('isOfflineMode') !== 'false') {
          localStorage.setItem('isOfflineMode', 'true'); // Default para offline no primeiro carregamento
        }
        // Criar usuários padrão caso necessário
        if (!localStorage.getItem('users')) {
          const defaultUsers = [
            {
              id: 'user_default_1',
              email: 'usuario@teste.com',
              password: 'senha123',
              full_name: 'Usuário de Teste',
              display_name: 'Usuário',
              avatar: null,
              createdAt: new Date().toISOString(),
              level: 3,
              rank: "Estudante",
              xp: 350,
              coins: 120
            }
          ];
          localStorage.setItem('users', JSON.stringify(defaultUsers));
        }
        console.log("Aplicação inicializada.");
      });

      // Sinalizar quando a aplicação carregar completamente
      window.onload = function() {
        console.log("App carregado com sucesso!");
      };
    </script>
    <script type="module" src="/src/main.tsx"></script>
    <script src="/preload.js"></script>
    <script src="https://api.tempolabs.ai/proxy-asset?url=https://storage.googleapis.com/tempo-public-assets/error-handling.js"></script>
  </body>
</html>